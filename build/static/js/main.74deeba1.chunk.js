(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),c=a.n(r),i=a(14),l=a(48),s=a(16),m=a(3),d=a(4),u=a(6),f=a(5),h=a(28),p=a(7),E="diegodavidt5.sg-host.com",g=E+"/api/sesiones/";var b=E+"/api/locales/";function v(){var e=b;return console.log(e),new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function N(e,t){var a=b+"tipo/"+e+"_"+t;return new Promise((function(e,t){fetch(a).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))}))}function T(e){var t=b+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}var C=a(158),P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).onChangeLocal=function(){},a.state={nombreUsuario:"",contraUsuario:"",codigoLocal:"",idUsuario:"",locales:[],formValidado:!1,classInputNombre:"",classInputContra:"",classSelectLocal:"",message:{text:"",alert:""}},a.login=a.login.bind(Object(h.a)(a)),a.onChange=a.onChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"login",value:function(){var e=this;this.state.codigoLocal.length>0?this.state.nombreUsuario.length>0?this.state.contraUsuario.length>0?function(e){var t=g+"login";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))}(this.state).then((function(t){switch(t.codEstado){case"402":e.setState({message:{text:"ERROR EN CREAR SESION",alert:"danger"}});break;case"701":e.setState({message:{text:"USUARIO NO EXISTE",alert:"danger"}});break;case"702":e.setState({message:{text:"CONTRASE\xd1A INCORRECTA",alert:"danger"}});break;case"703":e.setState({message:{text:"USUARIO CONECTADO",alert:"danger"}});break;case"800":localStorage.setItem("codigoUsuario",t.codigoUsuario),localStorage.setItem("tokenUsuario",t.token),localStorage.setItem("codigoLocal",e.state.codigoLocal),e.setState({message:{text:"SESION CORRECTA",alert:"success"}});break;default:e.setState({message:{text:"SIN CODIGO DE ESTADO",alert:"danger"}})}})):(this.msgAlert="danger",this.msgText="INGRESE CONTRASE\xd1A"):(this.msgAlert="danger",this.msgText="INGRESE USUARIO"):(this.msgAlert="danger",this.msgText="SELECCIONE LOCAL"),this.setState({message:{text:this.msgText,alert:this.msgAlert}})}},{key:"onChange",value:function(e){this.setState(Object(s.a)({},e.target.id,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;v(this.state).then((function(t){e.setState({locales:t})}))}},{key:"render",value:function(){var e=localStorage.getItem("codigoUsuario");return""!==e&&null!==e?o.a.createElement(l.a,{to:{pathname:"/app"}}):o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 mx-auto"},o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"SIGNIN")),o.a.createElement("div",{className:"container py-2"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text," "):""),o.a.createElement("div",{className:"card-body"},o.a.createElement("img",{src:"/img/Logo-World-Connect.png",alt:"Logo WCS",className:"card-img-top mx-auto m-2 rounded-circle w-50"}),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control custom-select "+this.state.classSelectLocal,id:"codigoLocal",onChange:this.onChange},o.a.createElement("option",{value:""},"Seleccione un local"),this.state.locales.map((function(e){return o.a.createElement("option",{value:e.codigoLocal,key:e.id},e.nombreLocal)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control "+this.state.classInputNombre,name:"nombreUsuario",id:"nombreUsuario",placeholder:"Usuario",maxLength:"50",onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control "+this.state.classInputContra,name:"contraUsuario",id:"contraUsuario",placeholder:"Password",maxLength:"250",onChange:this.onChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.login},"LOGIN"))))))))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(u.a)(this,Object(f.a)(t).call(this))).state={redirect:!1},e.salir=e.salir.bind(Object(h.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"salir",value:function(){var e=this;(function(e){var t=g+"logout";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})({codigoUsuario:localStorage.getItem("codigoUsuario")}).then((function(t){localStorage.removeItem("idUsuario"),localStorage.removeItem("tokenUsuario"),localStorage.removeItem("codigoUsuario"),localStorage.removeItem("codigoLocal"),e.setState({redirect:!0})}))}},{key:"render",value:function(){var e=localStorage.getItem("codigoUsuario");return null!==e&&""!==e&&!1===this.state.redirect?o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 mx-auto"},o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"LOGOUT")),o.a.createElement("div",{className:"card-body"},o.a.createElement("img",{src:"/img/Logo-World-Connect.png",alt:"Logo WCS",className:"card-img-top mx-auto m-2 rounded-circle w-50"}),o.a.createElement("div",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.salir},"SALIR")))))))):o.a.createElement(l.a,{to:"/app/login"})}}]),t}(n.Component),x=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"ERROR 404"))}}]),t}(n.Component),O=E+"/api/usuarios/";function j(e){return new Promise((function(t,a){fetch(O+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function S(e){var t=O+"trabajador/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){a(e)}))}))}var A=a(54),M=a(84),D=a.n(M),w=E+"/api/ventas/";var k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).obtenerSumaMensual=function(){var e=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SETIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],t=0;e.forEach((function(n){(function(e){var t=w+"suma/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(n).then((function(n){a.setState({totalVendidoMensual:a.state.totalVendidoMensual.concat(n[0].totalMes)},(function(){++t===e.length&&a.setState({mostrarGrafico:!0},(function(){return a.listarTotalVentaMensual()}))}))}))}))},a.cambioVistaGrafico=function(){a.setState({options:Object(A.a)({},a.state.options,{plotOptions:Object(A.a)({},a.state.options.plotOptions,{bar:Object(A.a)({},a.state.options.plotOptions.bar,{horizontal:!a.state.options.plotOptions.bar.horizontal})})})})},a.listarTotalVentaMensual=function(){var e=[{name:"Total Vendido",data:a.state.totalVendidoMensual}];a.setState({series:e})},a.state={mostrarGrafico:!1,totalVendidoMensual:[],options:{chart:{id:"basic-bar",background:"#f4f4f4",foreColor:"#333"},xaxis:{categories:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Setiembre","Octubre","Noviembre","Diciembre"]},plotOptions:{bar:{horizontal:!1}},fill:{colors:["#f44336"]},dataLabels:{enable:!1},title:{text:"TOTAL VENTAS - PERIODO 2020",align:"center",margin:20,offsetY:20,style:{fontSize:"15px"}}},series:[{name:"Total Vendido",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.obtenerSumaMensual()}},{key:"render",value:function(){return this.state.mostrarGrafico?o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-12 justify-content-center"},o.a.createElement(D.a,{options:this.state.options,series:this.state.series,type:"bar",width:"100%",height:"400"})),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"form-control btn btn-info",onClick:this.cambioVistaGrafico},"Vista")))):null}}]),t}(n.Component),L=a(49),I=a(87),R=a.n(I),V=a(59),U=a.n(V),F=a(88),H=a.n(F),B=a(27),G=a.n(B),z=a(56),J=a.n(z),_=a(57),Y=a.n(_),W=a(85),q=a(179),X=a(160),K=a(161),Z=a(162),Q=a(163),$=a(129),ee=a(130),te=a(164),ae=a(165),ne=a(166),oe=a(69),re=a(181),ce=a(167),ie=a(168),le=a(180),se=E+"/api/registros/";var me=E+"/api/rol/usuario/";function de(e){var t=me+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}var ue=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).state={textoFooter:e.textoFooter,nombreFooter:e.nombreFooter},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("footer",{className:"page-footer font-small blue pt-4"},o.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2020 ",this.state.textoFooter," ",o.a.createElement("a",{href:"/app"},this.state.nombreFooter))))}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).ObtenerRolesUsuario=function(e){de(e).then((function(e){switch(e[0].nombreRol){case"ROL-SUPERADMIN":a.setState({rolSuper:!a.state.rolSuper,rolAdmi:!a.state.rolAdmi,rolTienda:!a.state.rolTienda,rolAlmace:!a.state.rolAlmace});break;case"ROL-ADMIN":a.setState({rolAdmi:!a.state.rolAdmi,rolTienda:!a.state.rolTienda,rolAlmace:!a.state.rolAlmace});break;case"ROL-TIENDA":a.setState({rolTienda:!a.state.rolTienda});break;case"ROL-ALMACEN":a.setState({rolAlmace:!a.state.rolAlmace})}a.setState({rolUsuario:e[0]})}))},a.state={usuario:{},rolUsuario:{},local:{},rolSuper:!1,rolAdmi:!1,rolTienda:!1,rolAlmace:!1,conectado:0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"obtenerTienda",value:function(e){var t=this;T(e).then((function(e){t.setState({local:e[0]})}))}},{key:"componentDidMount",value:function(){var e=this,t="",a="";try{t=localStorage.getItem("codigoUsuario"),a=localStorage.getItem("codigoLocal"),""!==t&&null!==t&&(""!==a&&null!==a&&this.obtenerTienda(a),S(t).then((function(a){a[0]&&(e.ObtenerRolesUsuario(t),e.setState({usuario:a[0],conectado:1}))})))}catch(n){console.log("ERROR_NO_CODIGO_USER__"+n)}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ee,{usuario:this.state.usuario,local:this.state.local,rolSuper:this.state.rolSuper,rolAdmi:this.state.rolAdmi,rolTienda:this.state.rolTienda,rolAlmace:this.state.rolAlmace},this.props.children))}}]),t}(n.Component),he=48,pe=Object(W.a)((function(e){var t;return{root:{display:"flex"},drawer:Object(s.a)({},e.breakpoints.up("sm"),{width:175,flexShrink:0}),appBar:Object(s.a)({marginLeft:175},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(175,"px)")}),toolbarButtons:{marginLeft:"auto",marginRight:-12},menuButton:(t={},Object(s.a)(t,e.breakpoints.up("sm"),{display:"none"}),Object(s.a)(t,"marginRight",20),Object(s.a)(t,"marginLeft",-12),t),toolbar:e.mixins.toolbar,drawerPaper:{width:175},content:{flexGrow:1,padding:e.spacing(2)},imagenPerfil:{width:"60px"}}}));function Ee(e){var t=e.container,a=e.children,n=e.usuario,r=e.rolSuper,c=e.rolAdmi,l=e.rolTienda,s=e.local,m=pe(),d=o.a.useState(!1),u=Object(L.a)(d,2),f=u[0],h=u[1],p=o.a.useState(null),E=Object(L.a)(p,2),g=E[0],b=E[1],v=o.a.useState(!1),N=Object(L.a)(v,2),T=N[0],C=N[1],P=o.a.useState(!1),y=Object(L.a)(P,2),x=y[0],O=y[1],j=o.a.useState(!1),S=Object(L.a)(j,2),A=S[0],M=S[1],D=o.a.useState(!1),w=Object(L.a)(D,2),k=w[0],I=w[1],V=o.a.useState(!1),F=Object(L.a)(V,2),B=F[0],z=F[1];var _=Boolean(g);function W(){h(!f)}var me=[{nombre:"Ingresar",icono:o.a.createElement(U.a,null),url:"/app/login"},{nombre:"Salir",icono:o.a.createElement(U.a,null),url:"/app/logout"},{nombre:"Configurar",icono:o.a.createElement(U.a,null),url:"/app/configurar"},{nombre:"Perfil",icono:o.a.createElement(U.a,null),url:"/app"}];function de(){(function(e){var t=se+"vacio/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(localStorage.getItem("codigoLocal")).then((function(e){}))}var fe,Ee=o.a.createElement("div",null,o.a.createElement(q.a,null,o.a.createElement("img",{src:"/img/Logo-Hampina-Wassi.png",alt:"Logo HampinaWassi",className:"card-img-top rounded-circle py-4"}),o.a.createElement("h3",{className:"text-center"},"Sistema de Ventas")),o.a.createElement(X.a,null,o.a.createElement(K.a,{button:!0,component:i.b,to:"/app",onClick:de},o.a.createElement(Z.a,{primary:"Principal"})),o.a.createElement(K.a,{hidden:!0,button:!0,onClick:function(){C(!T)}},o.a.createElement(Z.a,{primary:"Tipos"}),T?o.a.createElement(J.a,null):o.a.createElement(Y.a,null)),o.a.createElement(Q.a,{in:T,timeout:"auto",unmountOnExit:!0},o.a.createElement($.a,{component:"div",disablePadding:!0},o.a.createElement(ee.a,{hidden:!c,button:!0,component:i.b,className:"",to:"/app/tipos/documento",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Documento"})),o.a.createElement(ee.a,{hidden:!r,button:!0,component:i.b,className:"",to:"/app/tipos/local",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Local"})),o.a.createElement(ee.a,{hidden:!r,button:!0,component:i.b,className:"",to:"/app/tipos/media",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Media"})),o.a.createElement(ee.a,{hidden:!r,button:!0,component:i.b,className:"",to:"/app/tipos/precio",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Precio"})),o.a.createElement(ee.a,{hidden:!c,button:!0,component:i.b,className:"",to:"/app/tipos/producto",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Producto"})),o.a.createElement(ee.a,{hidden:!r,button:!0,component:i.b,className:"",to:"/app/tipos/traslado",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Traslado"})))),o.a.createElement(K.a,{hidden:!0,button:!0,component:i.b,to:"/app/medias/listar",onClick:de},o.a.createElement(Z.a,{primary:"Imagenes"})),o.a.createElement(K.a,{button:!0,component:i.b,className:"",to:"/app/productos",onClick:de},o.a.createElement(Z.a,{primary:"Productos"})),o.a.createElement(K.a,{hidden:!c,button:!0,component:i.b,className:"",to:"/app/locales/almacen",onClick:de},o.a.createElement(Z.a,{primary:"Almacenes"})),o.a.createElement(K.a,{hidden:!c,button:!0,component:i.b,className:"",to:"/app/locales/tienda",onClick:de},o.a.createElement(Z.a,{primary:"Tiendas"})),o.a.createElement(K.a,{hidden:!c,button:!0,component:i.b,className:"",to:"/app/sucursales",onClick:de},o.a.createElement(Z.a,{primary:"Sucursales"})),o.a.createElement(K.a,{hidden:!r,button:!0,component:i.b,className:"",to:"/app/usuarios",onClick:de},o.a.createElement(Z.a,{primary:"Usuarios"})),o.a.createElement(K.a,{hidden:!l,button:!0,onClick:function(){I(!k)}},o.a.createElement(Z.a,{primary:"Envios"}),k?o.a.createElement(J.a,null):o.a.createElement(Y.a,null)),o.a.createElement(Q.a,{in:k,timeout:"auto",unmountOnExit:!0},o.a.createElement($.a,{component:"div",disablePadding:!0},o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/envios",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Registrar"})),o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/envios/todos",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Listar"})))),o.a.createElement(K.a,{hidden:!l,button:!0,onClick:function(){M(!A)}},o.a.createElement(Z.a,{primary:"Ingresos"}),A?o.a.createElement(J.a,null):o.a.createElement(Y.a,null)),o.a.createElement(Q.a,{in:A,timeout:"auto",unmountOnExit:!0},o.a.createElement($.a,{component:"div",disablePadding:!0},o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/ingresos/pendientes",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Pendientes"})),o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/ingresos/todos",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Listar"})))),o.a.createElement(K.a,{hidden:!l,button:!0,onClick:function(){O(!x)}},o.a.createElement(Z.a,{primary:"Ventas"}),x?o.a.createElement(J.a,null):o.a.createElement(Y.a,null)),o.a.createElement(Q.a,{in:x,timeout:"auto",unmountOnExit:!0},o.a.createElement($.a,{component:"div",disablePadding:!0},o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/ventas",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Registrar"})),o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/ventas/listar",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Realizadas"})))),o.a.createElement(K.a,{hidden:!0,button:!0,onClick:function(){z(!B)}},o.a.createElement(Z.a,{primary:"Graficos"}),B?o.a.createElement(J.a,null):o.a.createElement(Y.a,null)),o.a.createElement(Q.a,{in:B,timeout:"auto",unmountOnExit:!0},o.a.createElement($.a,{component:"div",disablePadding:!0},o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/grafico/ingresos",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Ingresos"})),o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/grafico/envios",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Envios"})),o.a.createElement(ee.a,{button:!0,component:i.b,className:"",to:"/app/grafico/ventas",onClick:de},o.a.createElement(te.a,null," ",o.a.createElement(G.a,null)," "),o.a.createElement(Z.a,{primary:"Ventas"})))),o.a.createElement(K.a,{hidden:!c,button:!0,component:i.b,to:"/app/reportes",onClick:de},o.a.createElement(Z.a,{primary:"Reportes"})),o.a.createElement(K.a,{hidden:!r,button:!0,component:i.b,to:"/app/buckup",onClick:de},o.a.createElement(Z.a,{primary:"Buckup"})))),ge=o.a.createElement(ae.a,null,o.a.createElement(ne.a,{"aria-label":"Open drawer",edge:"start",onClick:W,className:m.menuButton},o.a.createElement(R.a,null)),o.a.createElement(oe.a,null,"Hampina Wassi - ",s.nombreLocal," - ",n.nombreTrabajador),o.a.createElement("span",{className:m.toolbarButtons},o.a.createElement(ne.a,{color:"inherit",className:m.imagenPerfil},o.a.createElement("img",{src:n.urlMediaTrabajador,alt:n.altMediaTrabajador,className:"card-img-top rounded-circle"})),o.a.createElement(ne.a,{color:"inherit","aria-label":"More Options","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)}},o.a.createElement(H.a,null)),o.a.createElement(re.a,{id:"long-menu",anchorEl:g,keepMounted:!0,open:_,onClose:function(){b(null)},PaperProps:{style:{maxHeight:4.5*he,width:200}}},me.map((function(e,t){return o.a.createElement(K.a,{button:!0,key:t,component:i.b,to:e.url,onClick:de},o.a.createElement(te.a,null,e.icono),o.a.createElement(Z.a,{primary:e.nombre}))})))));return null!==(fe=localStorage.getItem("codigoUsuario"))&&""!==fe&&l?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:m.root},o.a.createElement(ce.a,null),o.a.createElement(ie.a,{position:"fixed",className:m.appBar},ge),o.a.createElement("nav",{className:m.drawer,"aria-label":"Mailbox folders"},o.a.createElement(q.a,{smUp:!0,implementation:"css"},o.a.createElement(le.a,{container:t,variant:"temporary",open:f,onClose:W,classes:{paper:m.drawerPaper},ModalProps:{keepMounted:!0}},Ee)),o.a.createElement(q.a,{xsDown:!0,implementation:"css"},o.a.createElement(le.a,{classes:{paper:m.drawerPaper},variant:"permanent",open:!0},Ee))),o.a.createElement("main",{className:m.content},o.a.createElement("div",{className:m.toolbar}),a,o.a.createElement(ue,{textoFooter:"Copyright ",nombreFooter:"Tunki.com"})))):o.a.createElement("div",{className:m.root},o.a.createElement("main",{className:m.content},o.a.createElement("div",{className:m.toolbar}),a,o.a.createElement(ue,{textoFooter:"Copyright ",nombreFooter:"Tunki.com"})))}var ge=fe,be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/usuarios/",a.state={usuario:{},local:{},conectado:0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"setUsuario",value:function(e){this.setState({usuario:e})}},{key:"obtenerTienda",value:function(){var e=this;T(localStorage.getItem("codigoLocal")).then((function(t){e.setState({local:t[0]})}))}},{key:"componentDidMount",value:function(){var e=this;this.obtenerTienda();try{var t=localStorage.getItem("codigoUsuario");""!==t&&null!==t&&S(t).then((function(t){e.setState({usuario:t[0]})}))}catch(a){console.log("ERROR_PROFILE_PRIMER_INICIO_NAVEGADOR__"+a)}}},{key:"render",value:function(){var e=localStorage.getItem("codigoUsuario"),t={textDecoration:"none"};return console.log(e),""!==e&&null!==e?o.a.createElement(ge,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{hidden:!0,className:"row my-4 justify-content-center"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement("a",{style:t,href:"/ventas"},o.a.createElement("div",{className:"card text-white bg-primary"},o.a.createElement("div",{className:"card-header"},"Ventas"),o.a.createElement("div",{className:"card-body"},"Realizar una Venta")))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("a",{style:t,href:"/app/productos"},o.a.createElement("div",{className:"card text-white bg-danger"},o.a.createElement("div",{className:"card-header"},"Productos"),o.a.createElement("div",{className:"card-body"},"Lista de Productos")))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("a",{style:t,href:"/app/envios"},o.a.createElement("div",{className:"card text-white bg-warning"},o.a.createElement("div",{className:"card-header"},"Envios"),o.a.createElement("div",{className:"card-body"},"Registrar un Envio")))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("a",{style:t,href:"/app/ingresos/pendientes"},o.a.createElement("div",{className:"card text-white bg-success"},o.a.createElement("div",{className:"card-header"},"Ingresos"),o.a.createElement("div",{className:"card-body"},"Confirmar un Ingreso")))),o.a.createElement("div",{className:"col-md-12 mt-4"},o.a.createElement("div",{className:"bg-info px-3 py-1 text-white"},"GRAFICOS PERIODO - 2020"))),o.a.createElement(k,null))):o.a.createElement(l.a,{to:"/app/login"})}}]),t}(n.Component),ve=a(13),Ne=(a(24),a(18)),Te=a.n(Ne),Ce=a(184),Pe=a(169),ye=a(170),xe=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Documento"),o.a.createElement("th",null,"Cantidad"))),o.a.createElement("tbody",null,this.props.tpDocumento.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoDocumento),o.a.createElement("td",null,e.nombreTipoDocumento),o.a.createElement("td",null,e.cantidadCaracteres))}))))))}}]),t}(n.Component),Oe=E+"/api/tipos/";function je(){var e=Oe+"documento";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function Se(e){var t=Oe+"documento/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function Ae(){var e=Oe+"local";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function Me(e){var t=Oe+"local/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function De(e){var t=Oe+"precio/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function we(e){var t=Oe+"media/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function ke(e){var t=Oe+"media/nombre/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function Le(){var e=Oe+"producto";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function Ie(e){var t=Oe+"producto/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function Re(e){var t=Oe+"traslado/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}var Ve=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/documento",a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.mostrarModal=function(e){a.setState({codigoTPEliminar:e}),a.toogleModalConfirmar()},a.borrarConfirmado=function(){var e=a.state.codigoTPEliminar;a.eliminarTipoDocumento(e),a.toogleModalConfirmar()},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarVerificacion=function(){a.state.nombreTipoDocumento?a.state.cantidadCaracteres?a.guardarTipoDocumento():alert("Ingrese Caracteres"):alert("Ingrese el Nombre")},a.guardarTipoDocumento=function(){var e=a.state,t={nombreTipoDocumento:e.nombreTipoDocumento,cantidadCaracteres:e.cantidadCaracteres,codigoTipoDocumento:e.codigoTipoDocumento},n={text:"",alert:""};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"documento";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"documento";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.state={tipoDocumento:[],filtered:[],tipoDocumentoExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoDocumento:"",nombreTipoDocumento:"",cantidadCaracteres:0,tipoAccion:"post",modalOpen:!1,tituloModal:"",modalConfirmarOpen:!1,tipoEliminar:"",codigoTPEliminar:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoDocumento",value:function(e){var t=this;""!==e&&null!==e?Se(e).then((function(e){t.setState({tipoDocumento:e})})):je().then((function(e){t.setState({tipoDocumento:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoDocumento",value:function(e){var t=this,a={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};""!==e&&null!==e&&function(e){var t=Oe+"documento/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="success",a.text="Se elimino correctamente",t.listarTipoDocumento("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Se(e).then((function(e){e[0]&&a.setState({nombreTipoDocumento:e[0].nombreTipoDocumento,codigoTipoDocumento:e[0].codigoTipoDocumento,cantidadCaracteres:e[0].cantidadCaracteres,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoDocumento:"",codigoTipoDocumento:"",cantidadCaracteres:0,tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoDocumento("")}},{key:"exportarToExcel",value:function(){}},{key:"componentDidMount",value:function(){this.listarTipoDocumento("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoDocumento",style:{textAlign:"center"}},{Header:"DOCUMENTO",accessor:"nombreTipoDocumento",style:{textAlign:"center"}},{Header:"N\xb0 CARACTERES",accessor:"cantidadCaracteres",sortable:!1,filterable:!1,style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.mostrarModal(t.original.codigoTipoDocumento)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoDocumento,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Documentos en Existencia")),o.a.createElement("div",{className:"m-2"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text," "):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Documento de indentidad."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoDocumentoExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoDocumento,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(xe,{tpDocumento:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Documento de Indentidad")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoDocumento"}," Nombre Documento: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoDocumento",type:"text",placeholder:"Ejemplo: DNI",value:this.state.nombreTipoDocumento,onChange:function(t){return e.setValues(t,"nombreTipoDocumento")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"cantidadCaracteres"}," Caracteres: "),o.a.createElement("input",{className:"form-control",id:"cantidadCaracteres",type:"text",placeholder:"Ejemplo: DNI",value:this.state.cantidadCaracteres,onChange:function(t){return e.setValues(t,"cantidadCaracteres")}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarVerificacion}," REGISTRAR ")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,"Se eliminar\xe1 el Registro, \xbfDesea Continuar? ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:this.borrarConfirmado},"Eliminar")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-info",onClick:this.toogleModalConfirmar.bind(this)},"Cancelar")))))))))))}}]),t}(n.Component),Ue=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Local"))),o.a.createElement("tbody",null,this.props.tpLocal.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoLocal),o.a.createElement("td",null,e.nombreTipoLocal))}))))))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/local",a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarTipoLocal=function(){var e=a.state,t={nombreTipoLocal:e.nombreTipoLocal,cantidadCaracteres:e.cantidadCaracteres,codigoTipoLocal:e.codigoTipoLocal},n={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"local";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"local";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tipoLocal:[],filtered:[],tipoLocalExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoLocal:"",nombreTipoLocal:"",tipoAccion:"post",modalOpen:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoLocal",value:function(e){var t=this;""!==e&&null!==e?Me(e).then((function(e){t.setState({tipoLocal:e})})):Ae().then((function(e){t.setState({tipoLocal:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoLocal",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=Oe+"local/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarTipoLocal("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Me(e).then((function(e){e[0]&&a.setState({nombreTipoLocal:e[0].nombreTipoLocal,codigoTipoLocal:e[0].codigoTipoLocal,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoLocal:"",codigoTipoLocal:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoLocal("")}},{key:"componentDidMount",value:function(){this.listarTipoLocal("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoLocal",style:{textAlign:"center"}},{Header:"Local",accessor:"nombreTipoLocal",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarTipoLocal(t.original.codigoTipoLocal)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoLocal,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Locales en Existencia")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Tipo de Local."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoLocalExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoLocal,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Ue,{tpLocal:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Local")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoLocal"}," Nombre Local: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoLocal",type:"text",placeholder:"Ejemplo: Almacen",value:this.state.nombreTipoLocal,onChange:function(t){return e.setValues(t,"nombreTipoLocal")}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarTipoLocal}," REGISTRAR ")))))))))))}}]),t}(n.Component),He=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Media"),o.a.createElement("th",null,"Descripcion"))),o.a.createElement("tbody",null,this.props.tpMedia.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoMedia),o.a.createElement("td",null,e.nombreTipoMedia),o.a.createElement("td",null,e.descripcionTipoMedia))}))))))}}]),t}(n.Component),Be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/media",a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarTipoMedia=function(){var e=a.state,t={nombreTipoMedia:e.nombreTipoMedia,descripcionTipoMedia:e.descripcionTipoMedia,codigoTipoMedia:e.codigoTipoMedia},n={text:"",alert:""};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"media";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"media";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tipoMedia:[],filtered:[],tipoMediaExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoMedia:"",nombreTipoMedia:"",descripcionTipoMedia:"",tipoAccion:"post",modalOpen:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoMedia",value:function(e){var t=this;""!==e&&null!==e?we(e).then((function(e){t.setState({tipoMedia:e})})):function(){var e=Oe+"media";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}().then((function(e){t.setState({tipoMedia:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoMedia",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=Oe+"media/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarTipoMedia("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?we(e).then((function(e){e[0]&&a.setState({nombreTipoMedia:e[0].nombreTipoMedia,codigoTipoMedia:e[0].codigoTipoMedia,descripcionTipoMedia:e[0].descripcionTipoMedia,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoMedia:"",codigoTipoMedia:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoMedia("")}},{key:"componentDidMount",value:function(){this.listarTipoMedia("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoMedia",style:{textAlign:"center"}},{Header:"MEDIA",accessor:"nombreTipoMedia",style:{textAlign:"center"}},{Header:"DESCRIPCION",accessor:"descripcionTipoMedia",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarTipoMedia(t.original.codigoTipoMedia)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoMedia,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Medias en Existencia")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Tipo de Media."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoMediaExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoMedia,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(He,{tpMedia:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Media")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoMedia"}," Nombre: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoMedia",type:"text",placeholder:"Ejemplo: JPGE",value:this.state.nombreTipoMedia,onChange:function(t){return e.setValues(t,"nombreTipoMedia")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"descripcionTipoMedia"}," Descripcion: "),o.a.createElement("input",{className:"form-control",id:"descripcionTipoMedia",type:"text",placeholder:"Ejemplo: Archivo tipo .jpge",value:this.state.descripcionTipoMedia,onChange:function(t){return e.setValues(t,"descripcionTipoMedia")}})),"descripcionTipoMedia",o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarTipoMedia}," REGISTRAR ")))))))))))}}]),t}(n.Component),Ge=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Precio"),o.a.createElement("th",null,"Descripcion"))),o.a.createElement("tbody",null,this.props.tpPrecio.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoPrecio),o.a.createElement("td",null,e.nombreTipoPrecio),o.a.createElement("td",null,e.descripcionTipoPrecio))}))))))}}]),t}(n.Component),ze=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/Precio",a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarTipoPrecio=function(){var e=a.state,t={nombreTipoPrecio:e.nombreTipoPrecio,descripcionTipoPrecio:e.descripcionTipoPrecio,codigoTipoPrecio:e.codigoTipoPrecio},n={text:"",alert:""};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"precio";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"precio";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tipoPrecio:[],filtered:[],tipoPrecioExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoPrecio:"",nombreTipoPrecio:"",descripcionTipoPrecio:"",tipoAccion:"post",modalOpen:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoPrecio",value:function(e){var t=this;""!==e&&null!==e?De(e).then((function(e){t.setState({tipoPrecio:e})})):function(){var e=Oe+"precio";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}().then((function(e){t.setState({tipoPrecio:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoPrecio",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=Oe+"precio/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarTipoPrecio("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?De(e).then((function(e){e[0]&&a.setState({nombreTipoPrecio:e[0].nombreTipoPrecio,codigoTipoPrecio:e[0].codigoTipoPrecio,descripcionTipoPrecio:e[0].descripcionTipoPrecio,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoPrecio:"",codigoTipoPrecio:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoPrecio("")}},{key:"componentDidMount",value:function(){this.listarTipoPrecio("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoPrecio",style:{textAlign:"center"}},{Header:"Precio",accessor:"nombreTipoPrecio",style:{textAlign:"center"}},{Header:"DESCRIPCION",accessor:"descripcionTipoPrecio",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarTipoPrecio(t.original.codigoTipoPrecio)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoPrecio,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Precios en Existencia")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Tipo de Precio."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoPrecioExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoPrecio,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Ge,{tpPrecio:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Precio")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoPrecio"}," Nombre: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoPrecio",type:"text",placeholder:"Ejemplo: JPGE",value:this.state.nombreTipoPrecio,onChange:function(t){return e.setValues(t,"nombreTipoPrecio")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"descripcionTipoPrecio"}," Descripcion: "),o.a.createElement("input",{className:"form-control",id:"descripcionTipoPrecio",type:"text",placeholder:"Ejemplo: Archivo tipo .jpge",value:this.state.descripcionTipoPrecio,onChange:function(t){return e.setValues(t,"descripcionTipoPrecio")}})),"descripcionTipoPrecio",o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarTipoPrecio}," REGISTRAR ")))))))))))}}]),t}(n.Component),Je=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",null,"Descripcion"))),o.a.createElement("tbody",null,this.props.tpProducto.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoProducto),o.a.createElement("td",null,e.nombreTipoProducto),o.a.createElement("td",null,e.descripcionTipoProducto))}))))))}}]),t}(n.Component),_e=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/producto",a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.mostrarModal=function(e){a.setState({codigoTPEliminar:e}),a.toogleModalConfirmar()},a.borrarConfirmado=function(){var e=a.state.codigoTPEliminar;a.eliminarTipoProducto(e),a.toogleModalConfirmar()},a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarVerificacion=function(){a.state.nombreTipoProducto?a.state.descripcionTipoProducto?a.guardarTipoProducto():alert("Ingrese una Descripcion"):alert("Ingrese el Nombre")},a.guardarTipoProducto=function(){var e=a.state,t={nombreTipoProducto:e.nombreTipoProducto,descripcionTipoProducto:e.descripcionTipoProducto,codigoTipoProducto:e.codigoTipoProducto},n={text:"",alert:""};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"producto";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"producto";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tipoProducto:[],filtered:[],tipoProductoExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoProducto:"",nombreTipoProducto:"",descripcionTipoProducto:"",tipoAccion:"post",modalOpen:!1,tituloModal:"",modalConfirmarOpen:!1,tipoEliminar:"",codigoTPEliminar:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoProducto",value:function(e){var t=this;""!==e&&null!==e?Ie(e).then((function(e){t.setState({tipoProducto:e})})):Le().then((function(e){t.setState({tipoProducto:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoProducto",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=Oe+"producto/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarTipoProducto("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Ie(e).then((function(e){e[0]&&a.setState({nombreTipoProducto:e[0].nombreTipoProducto,codigoTipoProducto:e[0].codigoTipoProducto,descripcionTipoProducto:e[0].descripcionTipoProducto,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoProducto:"",codigoTipoProducto:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoProducto("")}},{key:"componentDidMount",value:function(){this.listarTipoProducto("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoProducto",style:{textAlign:"center"}},{Header:"Producto",accessor:"nombreTipoProducto",style:{textAlign:"center"}},{Header:"DESCRIPCION",accessor:"descripcionTipoProducto",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.mostrarModal(t.original.codigoTipoProducto)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoProducto,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Productos en Existencia")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Tipo de Producto."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoProductoExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoProducto,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Je,{tpProducto:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Producto")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoProducto"}," Nombre: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoProducto",type:"text",placeholder:"Ejemplo: JPGE",value:this.state.nombreTipoProducto,onChange:function(t){return e.setValues(t,"nombreTipoProducto")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"descripcionTipoProducto"}," Descripcion: "),o.a.createElement("input",{className:"form-control",id:"descripcionTipoProducto",type:"text",placeholder:"Ejemplo: Archivo tipo .jpge",value:this.state.descripcionTipoProducto,onChange:function(t){return e.setValues(t,"descripcionTipoProducto")}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarVerificacion}," REGISTRAR ")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,"Se eliminar\xe1 el Registro, \xbfDesea Continuar? ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:this.borrarConfirmado},"Eliminar")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-info",onClick:this.toogleModalConfirmar.bind(this)},"Cancelar")))))))))))}}]),t}(n.Component),Ye=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Traslado"))),o.a.createElement("tbody",null,this.props.tpTraslado.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoTipoTraslado),o.a.createElement("td",null,e.nombreTipoTraslado))}))))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/tipos/traslado",a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarTipoTraslado=function(){var e=a.state,t={nombreTipoTraslado:e.nombreTipoTraslado,codigoTipoTraslado:e.codigoTipoTraslado},n={text:"",alert:""};switch(a.state.tipoAccion){case"post":(function(e){var t=Oe+"traslado";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Oe+"traslado";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tipoTraslado:[],filtered:[],tipoTrasladoExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoTipoTraslado:"",nombreTipoTraslado:"",tipoAccion:"post",modalOpen:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTipoTraslado",value:function(e){var t=this;""!==e&&null!==e?Re(e).then((function(e){t.setState({tipoTraslado:e})})):function(){var e=Oe+"traslado";return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}().then((function(e){t.setState({tipoTraslado:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarTipoTraslado",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=Oe+"traslado/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarTipoTraslado("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Re(e).then((function(e){e[0]&&a.setState({nombreTipoTraslado:e[0].nombreTipoTraslado,codigoTipoTraslado:e[0].codigoTipoTraslado,tipoAccion:"put",tituloModal:t})})):this.setState({nombreTipoTraslado:"",codigoTipoTraslado:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarTipoTraslado("")}},{key:"componentDidMount",value:function(){this.listarTipoTraslado("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoTipoTraslado",style:{textAlign:"center"}},{Header:"Traslado",accessor:"nombreTipoTraslado",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarTipoTraslado(t.original.codigoTipoTraslado)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoTipoTraslado,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Tipo de Traslados en Existencia")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Tipo de Traslado."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"tipoTrasladoExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.tipoTraslado,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Ye,{tpTraslado:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Traslado")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreTipoTraslado"}," Nombre: "),o.a.createElement("input",{className:"form-control",id:"nombreTipoTraslado",type:"text",placeholder:"Ejemplo: JPGE",value:this.state.nombreTipoTraslado,onChange:function(t){return e.setValues(t,"nombreTipoTraslado")}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarTipoTraslado}," REGISTRAR ")))))))))))}}]),t}(n.Component),qe=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"MED ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Media"),o.a.createElement("th",null,"Url"),o.a.createElement("th",null,"Tipo"))),o.a.createElement("tbody",null,this.props.medias.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoMedia),o.a.createElement("td",null,e.nombreMedia),o.a.createElement("td",null,e.urlMedia),o.a.createElement("td",null,e.nombreTipoMedia))}))))))}}]),t}(n.Component),Xe=(a(120),E+"/api/medias/");function Ke(){var e=Xe;return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function Ze(e){var t=Xe+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function Qe(e){var t=Xe;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function $e(e){var t=new FormData;t.append("fileMedia",e);var a=Xe+"file";return new Promise((function(e,n){fetch(a,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){n(e)}))}))}var et=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/medias",a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.mostrarModal=function(e){a.setState({codigoMediaEliminar:e}),a.toogleModalConfirmar()},a.borrarConfirmado=function(){var e=a.state.codigoMediaEliminar;a.eliminarMedia(e),a.toogleModalConfirmar()},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.buscarTipoMediaNombre=function(e){ke(e).then((function(e){var t=JSON.parse(JSON.stringify(a.state.mediaGuardar));t.codigoTipoMedia=e[0].codigoTipoMedia,a.setState({mediaGuardar:t})}))},a.guadarFile=function(e){$e(e).then((function(e){var t=JSON.parse(JSON.stringify(a.state.mediaGuardar));t.urlMedia="/img/"+e.filename,a.setState({mediaGuardar:t})}))},a.crearMediaObjecto=function(){var e=a.state,t=e.file,n=e.nombreMedia,o=e.codigoMedia,r=localStorage.getItem("codigoUsuario"),c=t.type.replace("/","-");a.buscarTipoMediaNombre(c),a.guadarFile(t);var i=JSON.parse(JSON.stringify(a.state.mediaGuardar));i.codigoMedia=o,i.nombreMedia=n,i.altMedia=n,i.codigoUsuario=r,a.setState({mediaGuardar:i})},a.guardarMedia=function(){var e=a.state,t=e.file,n=e.nombreMedia,o=e.codigoMedia,r=e.codigoTipoMedia,c=localStorage.getItem("codigoUsuario"),i={codigoMedia:o,nombreMedia:n,altMedia:n,urlMedia:"/img/"+t.name,codigoTipoMedia:r,codigoUsuario:c},l={text:"",alert:""};switch(a.state.tipoAccion){case"post":Qe(i).then((function(e){l.alert="success",l.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=Xe;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(i).then((function(e){l.alert="success",l.text="Se modifico correctamente",a.toogleModal()}))}$e(t).then((function(e){})),a.cambiarAlerta(l)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.setFileMedia=function(e){var t=e.target.files[0];ke(t.type.replace("/","-")).then((function(e){a.setState({file:t,codigoTipoMedia:e[0].codigoTipoMedia,nombreFile:t.name})}))},a.state={media:{},nombreFile:"",file:null,medias:[],filtered:[],mediasExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoMedia:"",nombreMedia:"",codigoTipoMedia:"",urlMedia:"",mediaGuardar:{codigoMedia:"",nombreMedia:"",altMedia:"",urlMedia:"",codigoTipoMedia:"",codigoUsuario:""},tipoAccion:"post",modalOpen:!1,tituloModal:"",modalConfirmarOpen:!1,tipoEliminar:"",codigoMediaEliminar:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarMedia",value:function(e){var t=this;""!==e&&null!==e?Ze(e).then((function(e){t.setState({medias:e})})):Ke().then((function(e){t.setState({medias:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"setMediaGuardar",value:function(){}},{key:"eliminarMedia",value:function(e){var t=this,a={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};""!==e&&null!==e&&(Ze(e).then((function(e){(function(e){var t=Xe+"file/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e[0].urlMedia.replace("/img/","")).then((function(e){}))})),function(e){var t=Xe+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="success",a.text="Se elimino correctamente",t.listarMedia("")}))),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Ze(e).then((function(e){e[0]&&a.setState({media:e[0],tipoAccion:"put",tituloModal:t})})):this.setState({media:{},tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarMedia("")}},{key:"exportarToExcel",value:function(){}},{key:"componentDidMount",value:function(){this.listarMedia("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoMedia",style:{textAlign:"center"},show:!1},{Header:"Imagen",Cell:function(e){return o.a.createElement("div",{className:"media_file"},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.altMedia,className:"card-img-top"}))},sortable:!1,filterable:!1,width:100,minWidth:100,maxWidth:100},{Header:"MEDIA",accessor:"nombreMedia",style:{textAlign:"center"}},{Header:"ALT",accessor:"altMedia",sortable:!1,filterable:!1,style:{textAlign:"center"},show:!1},{Header:"URL",accessor:"urlMedia",sortable:!1,filterable:!1,style:{textAlign:"center"}},{Header:"TIPO",accessor:"nombreTipoMedia",sortable:!1,filterable:!1,style:{textAlign:"center"}},{Header:"USUARIO",accessor:"nombreUsuario",sortable:!1,filterable:!1,style:{textAlign:"center"},show:!1},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.mostrarModal(t.original.codigoMedia)}},"Borrar")))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Medias en Existencia")),o.a.createElement("div",{className:"m-2"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text," "):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Archivo Media."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"mediaExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.medias,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n].toLowerCase()).indexOf(e.value.toLowerCase())>-1},defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(qe,{medias:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Media")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreMedia"}," Nombre Archivo: "),o.a.createElement("input",{className:"form-control",id:"nombreMedia",type:"text",placeholder:"Ejemplo: Foto Producto",value:this.state.media.nombreMedia,onChange:function(t){return e.setValues(t,"nombreMedia")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"mediaProducto"}," Archivo: "),o.a.createElement("div",{class:"custom-file"},o.a.createElement("input",{type:"file",class:"custom-file-input",id:"customFileLang",lang:"es",onChange:function(t){return e.setFileMedia(t)}}),o.a.createElement("label",{"data-browse":"Buscar",class:"custom-file-label",for:"customFileLang"},this.state.nombreFile))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarMedia}," REGISTRAR ")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,"Se eliminar\xe1 el Registro, \xbfDesea Continuar? ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:this.borrarConfirmado},"Eliminar")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-info",onClick:this.toogleModalConfirmar.bind(this)},"Cancelar")))))))))))}}]),t}(n.Component),tt=a(89),at=a.n(tt),nt=a(90),ot=a.n(nt),rt=a(91),ct=a.n(rt),it=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",null,"Tipo"),o.a.createElement("th",null,"Presentaci\xf3n"),o.a.createElement("th",null,"Ubicaci\xf3n"),o.a.createElement("th",null,"Existencias"),o.a.createElement("th",null,"Minimo"),o.a.createElement("th",null,"estado"),o.a.createElement("th",null,"Caducidad"))),o.a.createElement("tbody",null,this.props.productos.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoProducto),o.a.createElement("td",null,e.descripcionProducto),o.a.createElement("td",null,e.nombreTipoProducto),o.a.createElement("td",null,e.descripcionPresentacion),o.a.createElement("td",null,e.nombreLocal),o.a.createElement("td",null,e.stockExistente),o.a.createElement("td",null,e.stockMinimo),o.a.createElement("td",null,e.estadoProducto),o.a.createElement("td",null,e.fechaVencimiento))}))))))}}]),t}(n.Component),lt=E+"/api/productos/";function st(e){var t=lt+"precio/venta/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function mt(e){var t=lt+"venta/lista/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}a(81);var dt=E+"/api/presentaciones/";var ut=function(e){var t=e.productos,a=e.cargando,n=e.verificarAccion;return a?o.a.createElement("h2",null,"Cargando..."):o.a.createElement("ul",null,o.a.createElement("div",{className:"row justify-content-center"},t.map((function(e,t){return o.a.createElement("div",{className:"col-9 col-sm-6 col-md-3 productoItem"},o.a.createElement("li",{key:t},o.a.createElement("div",{className:"card cardProducto"},o.a.createElement("div",{className:"card-header"},o.a.createElement("div",{className:"nombreProducto"},e.descripcionProducto)),o.a.createElement("div",{className:"card-body infoProducto"},o.a.createElement("div",{className:"cardImagen"},o.a.createElement("img",{src:e.urlMedia,alt:e.descripcionProducto,className:"imagenProducto img-fluid"})),o.a.createElement("div",null,"Marca: ",e.detalleProducto),o.a.createElement("div",{hidden:!0},"Vence: ",e.fechaVencimiento.substring(0,10)),o.a.createElement("div",null,e.nombreTipoProducto),o.a.createElement("div",null,e.descripcionPresentacion),o.a.createElement("div",{className:"form-group mt-2"},o.a.createElement("button",{type:"button",class:"btn btn-outline-success",onClick:function(){return n(e.codigoProducto)}},"Datos"))))))}))))},ft=(a(121),0),ht=function(e){var t=e.totalElementos,a=e.elementosPage,n=e.cambiarPagina,r=e.paginaActual,c=9,i=[],l=[],s="",m=!0,d=Math.trunc(t/a),u=r,f=0;t%a!==0&&(d+=1,(f=Math.trunc(d/c))%c!==0&&(f+=1),0===f&&(f=1));for(var h=1;h<=d;h++)i.push(h);function p(){l=[];for(var e=c*ft+1;e<=c*(d+1);e++)e<=d&&l.push(e)}return p(),o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement("ul",{className:"pagination justify-content-center"},o.a.createElement("li",{className:"page-item"},o.a.createElement("a",{className:"page-link",href:"# ","aria-label":"Previous",onClick:function(){return n(1),ft=0,void p()}},o.a.createElement("span",{"aria-hidden":"true"},"\xab"))),o.a.createElement("li",{className:"page-item"},o.a.createElement("a",{className:"page-link",href:"# ","aria-label":"Previous",onClick:function(){return u>1&&n(u-1),void(r===c*ft+1&&ft>0&&(ft-=1,p()))}},o.a.createElement("span",{"aria-hidden":"true"},"\u2039"))),l.map((function(e){return s=e===u?"page-item active":"page-item",e<=c*(ft+1)?o.a.createElement("li",{key:e,className:s},o.a.createElement("a",{href:"# ",className:"page-link",onClick:function(){return n(e)}},e)):m?(m=!1,!0?o.a.createElement("li",{className:"page-item"},o.a.createElement("a",{className:"page-link",href:"# "},"...")):null):null})),o.a.createElement("li",{className:"page-item"},o.a.createElement("a",{className:"page-link",href:"# ","aria-label":"Next",onClick:function(){return u<d&&n(u+1),void(u===c*(ft+1)&&f>ft&&(ft+=1,p()))}},o.a.createElement("span",{"aria-hidden":"true"},"\u203a"))),o.a.createElement("li",{className:"page-item"},o.a.createElement("a",{className:"page-link",href:"# ","aria-label":"Next",onClick:function(){return n(d),ft=f-1,void p()}},o.a.createElement("span",{"aria-hidden":"true"},"\xbb"))))))},pt={message:{text:"",alert:""},messageActivo:!1,producto:{codigoProducto:"",descripcionProducto:"",detalleProducto:"",codigoTipoProducto:"",codigoPresentacion:"",codigoMedia:"MED-00000000004",codigoLocal:"",valorPrecio:0,stockExistente:0,stockMinimo:0,estadoProducto:1,fechaVencimiento:"",nombreTipoProducto:"",descripcionPresentacion:"",nombreLocal:""},codigoProducto:"",fechaVencimiento:"",productos:[],sugerenciasProducto:[],media:{codigoMedia:"",nombreMedia:"",altMedia:"",urlMedia:"",codigoTipoMedia:"",codigoUsuario:""},medias:[],tipoProductos:[],presentaciones:[],locales:[],tipoAccion:"post",codigoMedia:"",modalOpen:!1,modalFormMediaOpen:!1,modalListaMediaOpen:!1,nombreFile:"",file:null,fileTemporal:null,tituloModal:"",tipoAdmi:!1,codigoLocal:localStorage.getItem("codigoLocal"),modalConfirmarOpen:!1,tipoEliminar:"",codigoProductoEliminar:"",nombreProductoBuscar:"",cargando:!0,currentPage:1,productosPage:16,cantidadPages:0,cantidadProductos:0,heightWindows:""},Et=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).cambiarPagina=function(e){a.setState({currentPage:e},(function(){return a.listarProducto()}))},a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.mostrarModal=function(e){a.setState({codigoProductoEliminar:e}),a.toogleModalConfirmar()},a.borrarConfirmado=function(){var e=a.state.codigoProductoEliminar;a.eliminarProducto(e),a.toogleModalConfirmar()},a.setProducto=function(e,t){var n=a.state.producto;n[t]=e.target.value,a.setState({producto:n})},a.setMedia=function(e,t){var n=a.state.media;n[t]=e.target.value,a.setState({media:n})},a.setFileMedia=function(e){if(e.target.files[0]){var t=e.target.files[0],n=t.type.replace("/","-"),o=a.state.media;ke(n).then((function(e){o.codigoTipoMedia=e[0].codigoTipoMedia,a.setState({file:t,fileTemporal:URL.createObjectURL(t),media:o,nombreFile:t.name})}))}},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.guardarMedia=function(){var e=localStorage.getItem("codigoUsuario");if(a.state.file){var t=a.state,n=t.file,o=t.media;o.nombreMedia=n.name,o.altMedia=n.name,o.urlMedia="/img/"+n.name,o.codigoUsuario=e,a.setState({media:o}),Qe(o).then((function(e){a.setState({codigoMedia:e[0][0].codigoMedia}),$e(n).then((function(e){a.guardarProducto(!0)}))}))}else null!==a.state.producto.codigoProducto&&""!==a.state.producto.codigoProducto?a.guardarProducto(!1):alert("Ingrese una Imagen")},a.ObtenerRolesUsuario=function(e){de(e).then((function(e){"ROL-SUPERADMIN"!==e[0].nombreRol&&"ROL-ADMIN"!==e[0].nombreRol||a.setState({tipoAdmi:!a.state.tipoAdmi})}))},a.listarProducto=function(){var e=document.getElementById("busquedaProducto"),t=a.state.codigoLocal,n="";e.value.length>0&&(n=e.value);var o={codigoLocal:t,textoBusqueda:n,inicio:a.state.productosPage*(a.state.currentPage-1),resultados:a.state.productosPage};(function(e){var t=lt+"inventario/paginado/";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))})(o).then((function(e){(function(e){var t=lt+"cantidad/";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){return n(e)}))}))})(o).then((function(t){a.setState({cantidadProductos:t[0].cantidadProductos,productos:e,sugerenciasProducto:e,cargando:!1})}))}))},a.guardarProductoPrueba=function(){a.state.producto.descripcionProducto?a.state.producto.detalleProducto?a.state.producto.codigoTipoProducto?a.state.producto.codigoPresentacion?a.guardarMedia():alert("Ingrese la Presentaci\xf3n"):alert("Ingrese el Tipo"):alert("Ingrese el Detalle"):alert("Ingrese una Descripci\xf3n")},a.guardarProducto=function(e){var t=a.state.producto;e&&(t.codigoMedia=a.state.codigoMedia),t.codigoLocal=a.state.codigoLocal,t.fechaVencimiento=a.state.fechaVencimiento,a.setState({producto:t});var n={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};switch(a.state.tipoAccion){case"post":(function(e){var t=lt;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.listarProducto(),a.cambiarAlerta(n),a.toogleModal()}));break;case"put":(function(e){var t=lt;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.listarProducto(),a.cambiarAlerta(n),a.toogleModal()}))}a.setState({producto:{},media:{},codigoMedia:"",nombreFile:"",file:null})},a.verificarAccion=function(e){if(null!==e&&""!==e)(function(e){var t=lt+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e+"_"+a.state.codigoLocal).then((function(e){e[0]&&(e[0].fechaVencimiento=e[0].fechaVencimiento.substring(0,10),a.setState({producto:e[0],codigoProducto:e[0].codigoProducto,fechaVencimiento:e[0].fechaVencimiento.substring(0,10),nombreFile:e[0].urlMedia.replace("/img/",""),fileTemporal:e[0].urlMedia,tipoAccion:"put",tituloModal:"Modificar Producto"}))}));else{a.obtenerFechaHoy();var t={fechaVencimiento:a.state.producto.fechaVencimiento,stockExistente:0,stockMinimo:0,valorPrecio:0,nombreTipoProducto:"Seleccione un Tipo",codigoTipoProducto:"-",descripcionPresentacion:"Seleccione la Presentacion",nombreLocal:"Seleccione el Local"};a.setState({producto:t,nombreFile:"",fileTemporal:"/img/Imagen-Caja-Presentacion.png",codigoProducto:"",tipoAccion:"post",tituloModal:"Registrar Producto"})}a.toogleModal()},a.resetEstado=function(){a.setState(pt)},a.state=pt,a.onChange=a.onChange.bind(Object(h.a)(a)),a.cambiarPagina=a.cambiarPagina.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"onChange",value:function(e){var t=this.state.producto;t[e.target.id]=e.target.value,this.setState({producto:t})}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen})}},{key:"listarTipoProducto",value:function(){var e=this;Le().then((function(t){e.setState({tipoProductos:t})}))}},{key:"listarPresentacionProducto",value:function(){var e=this;(function(){var e=dt;return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))})().then((function(t){e.setState({presentaciones:t})}))}},{key:"listarMedia",value:function(){var e=this;Ke().then((function(t){e.setState({medias:t})}))}},{key:"listarLocales",value:function(){var e=this;v().then((function(t){e.setState({locales:t})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarProducto",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=lt+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarProducto()})),this.cambiarAlerta(a)}},{key:"obtenerFechaHoy",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=t+"-";a<10&&(o=o+"0"+a),o+="-",n<10?o=o+"0"+n:o+=n;var r=this.state.producto;r.fechaVencimiento=o,this.setState({fechaVencimiento:o,producto:r})}},{key:"componentDidMount",value:function(){this.ObtenerRolesUsuario(localStorage.getItem("codigoUsuario")),this.listarTipoProducto(),this.listarPresentacionProducto(),this.listarMedia(),this.listarLocales(),this.listarProducto()}},{key:"render",value:function(){var e=this;return o.a.createElement(ge,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-8 col-sm-8 col-md-9"},o.a.createElement("h3",null,"Productos en Existencia")),o.a.createElement("div",{className:"col-4 col-sm-4 col-md-3"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement("button",{className:"btn btn-info btn-circle",onClick:function(){e.verificarAccion("")}}," ",o.a.createElement(at.a,null)," ")),o.a.createElement("div",{className:"col-4"},o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn btn-success btn-circle",table:"table-to-xls",filename:"productosExcel",sheet:"hoja 1",buttonText:o.a.createElement(ot.a,null)})),o.a.createElement("div",{className:"col-4"},o.a.createElement("button",{className:"btn btn-danger btn-circle"}," ",o.a.createElement(ct.a,null)," ")))))),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row justify-content-center mx-4"},o.a.createElement("div",{className:"col-10 col-sm-10 col-md-10 form-group"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Buscar todos los Productos",id:"busquedaProducto"})),o.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 form-group"},o.a.createElement("button",{className:"btn btn-info",onClick:function(){e.listarProducto()}},"Buscar"))),o.a.createElement("div",{className:"container"},o.a.createElement(ht,{totalElementos:this.state.cantidadProductos,elementosPage:this.state.productosPage,cambiarPagina:this.cambiarPagina,paginaActual:this.state.currentPage})),o.a.createElement("div",{className:"mr-3"},o.a.createElement(ut,{productos:this.state.sugerenciasProducto,cargando:this.state.cargando,verificarAccion:this.verificarAccion})),o.a.createElement("div",{className:"container"},o.a.createElement(ht,{totalElementos:this.state.cantidadProductos,elementosPage:this.state.productosPage,cambiarPagina:this.cambiarPagina,paginaActual:this.state.currentPage})),o.a.createElement(it,{productos:this.state.sugerenciasProducto}),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"descripcionProducto"}," Nombre: "),o.a.createElement("input",{className:"form-control",id:"descripcionProducto",type:"text",placeholder:"Ejemplo: Aceite",value:this.state.producto.descripcionProducto,onChange:function(t){return e.setProducto(t,"descripcionProducto")}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"detalleProducto"}," Marca: "),o.a.createElement("input",{className:"form-control",id:"detalleProducto",type:"text",placeholder:"Ejemplo: De Coco",value:this.state.producto.detalleProducto,onChange:function(t){return e.setProducto(t,"detalleProducto")}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigotipoProducto"}," Tipo: "),o.a.createElement("select",{className:"form-control custom-select ",id:"codigoTipoProducto",onChange:this.onChange},o.a.createElement("option",{value:this.state.producto.codigoTipoProducto},this.state.producto.nombreTipoProducto),this.state.tipoProductos.map((function(e){return o.a.createElement("option",{value:e.codigoTipoProducto,key:e.id},e.nombreTipoProducto)})))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigoPresentacion"}," Presentacion: "),o.a.createElement("select",{className:"form-control custom-select ",id:"codigoPresentacion",onChange:this.onChange},o.a.createElement("option",{value:this.state.producto.codigoPresentacion},this.state.producto.descripcionPresentacion),this.state.presentaciones.map((function(e){return o.a.createElement("option",{value:e.codigoPresentacion,key:e.id},e.descripcionPresentacion)})))),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{for:"mediaProducto"}," Imagen:"),o.a.createElement("div",{class:"custom-file"},o.a.createElement("input",{type:"file",class:"custom-file-input",id:"customFileLang",lang:"es",onChange:function(t){return e.setFileMedia(t)}}),o.a.createElement("label",{"data-browse":"Buscar",class:"custom-file-label",for:"customFileLang"},this.state.nombreFile))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"cardImagen text-center"},o.a.createElement("img",{src:this.state.fileTemporal,alt:this.state.producto.descripcionProducto,className:"imagenProducto"}))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"valorPrecio"}," Precio S/.: "),o.a.createElement("input",{className:"form-control",id:"valorPrecio",type:"number",placeholder:"0",value1:parseFloat(this.state.producto.valorPrecio).toFixed(2),value:this.state.producto.valorPrecio,onChange:function(t){return e.setProducto(t,"valorPrecio")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"stockExistente"}," Stock: "),o.a.createElement("input",{className:"form-control",id:"stockExistente",type:"number",value:this.state.producto.stockExistente,onChange:function(t){return e.setProducto(t,"stockExistente")}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"stockMinimo"}," Min: "),o.a.createElement("input",{className:"form-control",id:"stockMinimo",type:"number",value:this.state.producto.stockMinimo,onChange:function(t){return e.setProducto(t,"stockMinimo")}}))))),o.a.createElement("div",{hidden:!0,className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigoLocal"}," Ubicaci\xf3n: "),o.a.createElement("select",{className:"form-control custom-select ",id:"codigoLocal",onChange:this.onChange},o.a.createElement("option",{value:this.state.codigoLocal},this.state.producto.nombreLocal),this.state.locales.map((function(e){return o.a.createElement("option",{value:e.codigoLocal,key:e.id},e.nombreLocal)})))),o.a.createElement("div",{hidden:!0,className:"col-md-6 form-group"},o.a.createElement("label",{for:"fechaVencimiento"}," Fecha Vencimiento: "),o.a.createElement("input",{className:"form-control",id:"fechaVencimiento",type:"date","data-date-format":"YYYY MM DD",value:this.state.producto.fechaVencimiento,onChange:function(t){return e.setProducto(t,"fechaVencimiento")}}))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarProductoPrueba}," GUARDAR "),"\xa0",o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.toogleModal()}}," CANCELAR ")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,"Se eliminar\xe1 el Registro, \xbfDesea Continuar? ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:this.borrarConfirmado},"Eliminar")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-info",onClick:this.toogleModalConfirmar.bind(this)},"Cancelar"))))))))))}}]),t}(n.Component),gt=a(175),bt=E+"/api/ventas/detalles/";function vt(e){var t=bt+"codigoventa/vista/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}function Nt(e){var t=bt+"codigovd/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}var Tt=E+"/api/clientes/";var Ct=function(e){return o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Cliente Nuevo")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"detalleProducto"}," DOCUMENTO: "),o.a.createElement("select",{className:"form-control",id:"detalleProducto"},e.tiposDocumentos.map((function(e){return o.a.createElement("option",{value:e.codigoTipoDocumento,key:e.id},e.nombreTipoDocumento)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"numeroDocumento"}," NUMERO: "),o.a.createElement("input",{className:"form-control",id:"numeroDocumento",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{hidden:!0,className:"form-group"},o.a.createElement("label",{for:"telefonoCliente"}," TELEFONO: "),o.a.createElement("input",{className:"form-control",id:"telefonoCliente",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{hidden:!0,className:"form-group hide"},o.a.createElement("label",{for:"correoCliente"},"   CORREO: "),o.a.createElement("input",{className:"form-control",id:"correoCliente",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{hidden:!0,className:"form-group hide"},o.a.createElement("label",{for:"direccionCliente"}," DIRECCI\xd3N: "),o.a.createElement("input",{className:"form-control",id:"direccionCliente",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreCliente"}," NOMBRE: "),o.a.createElement("input",{className:"form-control",id:"nombreCliente",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{hidden:!0,className:"form-group hide"},o.a.createElement("label",{for:"enRepresentacion"}," EN REPRESENTACION: "),o.a.createElement("input",{className:"form-control",id:"enRepresentacion",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{hidden:!0,className:"form-group hide"},o.a.createElement("label",{for:"razonSocial"}," RAZON SOCIAL: "),o.a.createElement("input",{className:"form-control",id:"razonSocial",type:"text",onChange:function(t){return e.setCliente(t)}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:e.registrarCliente}," REGISTRAR "))))},Pt=(a(122),a(171)),yt=a(172),xt=a(173),Ot=a(174),jt={productos:[],productosBusqueda:[],sugerenciasProducto:[],codigoVenta:"",codigoProducto:"",nombreProductoBuscar:"",tipoBuscadorProducto:"descripcionProducto",venta:{codigoVenta:"",codigoUsuario:"",codigoCliente:"",codigoLocal:"",valorTotalVenta:0,valorModificado:0,valorDescuento:0,ventaDetalles:[]},detalle:{codigoVD:"",codigoVenta:"",codigoProducto:"",codigoPrecio:"",cantidadProducto:"",valorTotalVD:"",valorModificado:"",valorDescuento:""},detallesVentas:[],detalles:[],tiposDocumentos:[],sugerenciasCliente:[],clientes:[],cliente:{codigoCliente:"",codigoTipoDocumento:"",numeroDocumento:"",telefonoCliente:"",correoCliente:"",direccionCliente:"",nombreCliente:"",enRepresentacion:"",razonSocial:""},confirmarCrearVenta:!1,confirmarEliminar:!1,tipoAccion:"",modalClienteOpen:!1,modalConfirmarOpen:!1,creacionCliente:!1,tituloModal:"",nombreCliente:"",codigoVDTemporal:"",montoRecibido:0,valorTotalVenta:0,mensajeAlerta:{textoMensaje:"",tipoBotonConfirmar:"",textoBotonConfirmar:"",mostrarConfirmar:!1,tipoBotonCancelar:"",textoBotonCancelar:"",mostrarCancelar:!1}},St=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).setMontoRecibido=function(e){a.setState({montoRecibido:e})},a.setCliente=function(e){var t=a.state.cliente;if(t[e.target.id]=e.target.value,"nombreCliente"===e.target.id){var n=e.target.value;a.setState({nombreCliente:n})}a.setState({cliente:t})},a.registrarCliente=function(){var e,t=a.state.cliente;t.nombreCliente.length>0&&(e=t,new Promise((function(t,a){fetch(Tt,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))).then((function(e){a.setState({creacionCliente:!0,nombreCliente:e[0].nombreCliente,cliente:e[0]})})),a.listarClientes(),a.toogleModalCliente()},a.limpiarCliente=function(){var e=a.state.cliente;e.codigoCliente="",e.codigoTipoDocumento="",e.numeroDocumento="",e.telefonoCliente="",e.correoCliente="",e.direccionCliente="",e.nombreCliente="",e.enRepresentacion="",e.razonSocial="",a.setState({cliente:e})},a.toogleModalCliente=function(){a.state.creacionCliente||a.limpiarCliente(),a.setState({tituloModal:"REGISTRAR",modalClienteOpen:!a.state.modalClienteOpen})},a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.onChangeTipoBuscadorProducto=function(e){var t=e.target.value;a.setState((function(){return{tipoBuscadorProducto:t}}))},a.onChangeBuscadorProducto=function(e){var t=e.target.value,n=[];if(t.length>0){var o=new RegExp("^".concat(t),"i");n=a.state.productos.sort().filter((function(e){return o.test(e[a.state.tipoBuscadorProducto])}))}a.setState((function(){return{sugerenciasProducto:n,nombreProductoBuscar:t}}))},a.onChangeBuscadorCliente=function(e){var t=e.target.value,n=[];if(a.setCliente(e),t.length>0){var o=new RegExp("^".concat(t),"i");n=a.state.clientes.sort().filter((function(e){return o.test(e.nombreCliente)}))}a.setState((function(){return{sugerenciasCliente:n}}))},a.setValorTotalVenta=function(){var e=0;a.state.detalles.forEach((function(t){e+=t.valorTotalVD})),a.setState({valorTotalVenta:e})},a.borrarDetalleVenta=function(e){Nt(e).then((function(e){a.listarDetallesVentasVista()}))},a.buscarIndexDetalles=function(e){return a.state.detalles.indexOf(e)},a.buscarIndexProductos=function(e){return a.state.productos.indexOf(e)},a.borrarDetalleVentaTemporal=function(){var e=a.state.detalle,t=a.buscarIndexDetalles(e),n=Object.assign([],a.state.detalles);n.splice(t,1),a.setState({detalles:n},(function(){a.setValorTotalVenta()})),Nt(e.codigoVD).then((function(e){}))},a.borrarProductoDeSugeriancia=function(e){var t=a.buscarIndexProductos(e),n=Object.assign([],a.state.productos);n.splice(t,1),a.setState({productos:n})},a.botonConfirmado=function(){var e=a.state.tipoAccion;"ELIMINAR-DETALLE"===e&&(a.borrarDetalleVentaTemporal(),a.toogleModalConfirmar()),"ANULAR-VENTA"===e&&a.anularVenta(),"CONFIRMAR-VENTA"===e&&(a.confirmarGuardarVenta(),a.toogleModalConfirmar())},a.verificarEliminar=function(e,t){var n=a.state.mensajeAlerta;switch(t){case"ELIMINAR-DETALLE":n.textoMensaje="Se eliminar\xe1 el Registro, \xbfDesea Continuar?",n.tipoBotonConfirmar="btn btn-danger",n.textoBotonConfirmar="Eliminar",n.mostrarConfirmar=!0,n.tipoBotonCancelar="btn btn-info",n.textoBotonCancelar="Cancelar",n.mostrarCancelar=!0;break;case"ANULAR-VENTA":n.textoMensaje="Se anular\xe1 la Venta, \xbfDesea Continuar?",n.tipoBotonConfirmar="btn btn-danger",n.textoBotonConfirmar="Anular",n.mostrarConfirmar=!0,n.tipoBotonCancelar="btn btn-info",n.textoBotonCancelar="Cancelar",n.mostrarCancelar=!0}a.setState({detalle:e,tipoAccion:t,mensajeAlerta:n}),a.toogleModalConfirmar()},a.crearDetalleVenta=function(e){(function(e){var t=bt+"temporal";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e).then((function(e){}))},a.agregarProductos=function(e){a.setState({productos:a.state.productos.concat(e)})},a.crearDetalleVentaTemporal=function(e,t){(function(e){var t=bt+"temporal";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})({codigoVenta:a.state.codigoVenta,codigoProducto:e.codigoProducto,codigoPrecio:e.codigoPrecio}).then((function(n){a.setState({codigoVDTemporal:n[0][0].codigoVD},(function(){var n={urlMedia:e.urlMedia,descripcionProducto:e.descripcionProducto,detalleProducto:e.detalleProducto,descripcionPresentacion:e.descripcionPresentacion,nombreTipoProducto:e.nombreTipoProducto,valorPrecio:e.valorPrecio,cantidadProducto:t,stockExistente:e.stockExistente,valorTotalVD:e.valorPrecio*t,codigoVD:a.state.codigoVDTemporal,codigoProducto:e.codigoProducto,codigoPrecio:e.codigoPrecio,codigoVenta:a.state.codigoVenta,codigoLocal:localStorage.getItem("codigoLocal"),valorModificado:0,valorDescuento:0};a.setState({detalles:a.state.detalles.concat(n)},(function(){a.setValorTotalVenta()}))}))}))},a.editarDetalleVentaTemporal=function(e,t){var n=a.buscarIndexDetalles(t),o=Object.assign({},a.state.detalles[n]),r=e.target.value;o.cantidadProducto=r,o.valorTotalVD=t.valorPrecio*r;var c=Object.assign([],a.state.detalles);c[n]=o,a.setState({detalles:c},(function(){a.setValorTotalVenta()}))},a.verificarProductoAgregar=function(e){var t=a.state.detalles,n=!1;return t.forEach((function(t){t.codigoProducto===e.codigoProducto&&(n=!0)})),n},a.llenarListas=function(){var e=localStorage.getItem("codigoLocal");a.listarProductosPrecioLocal(e),a.listarTiposDocumentos(),a.listarClientes()},a.resetEstado=function(){a.setState(jt),window.removeEventListener("beforeunload",(function(e){a.anularVenta(),e.returnValue="Se cancelo la vent, Desea Salir?"}))},a.confirmarGuardarVenta=function(){a.state.detalles.forEach((function(e){a.crearDetalleVenta(e)})),function(e){var t=w;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))}({codigoVenta:a.state.codigoVenta,codigoUsuario:localStorage.getItem("codigoUsuario"),codigoCliente:a.state.cliente.codigoCliente,codigoLocal:localStorage.getItem("codigoLocal"),valorTotalVenta:a.state.valorTotalVenta,valorModificado:a.state.valorTotalVenta,valorDescuento:0,montoRecibido:a.state.montoRecibido}).then((function(e){e&&a.resetEstado()}))},a.guardarVenta=function(){var e=a.state,t=e.detalles,n=e.cliente,o=e.mensajeAlerta;t.length>0?n.codigoCliente.length>0?a.state.montoRecibido>=a.state.valorTotalVenta?(o.textoMensaje="Se vender\xe1 ".concat(" Producto(s) con Valor Total S/. ",a.state.valorTotalVenta.toFixed(2)),o.tipoBotonConfirmar="btn btn-success",o.textoBotonConfirmar="Confirmar",o.mostrarConfirmar=!0,o.tipoBotonCancelar="btn btn-danger",o.textoBotonCancelar="Cancelar",o.mostrarCancelar=!0):(o.textoMensaje="El monto recibido es menor al valor total de Venta.",o.mostrarConfirmar=!1,o.tipoBotonCancelar="btn btn-danger",o.textoBotonCancelar="Aceptar",o.mostrarCancelar=!0):(o.textoMensaje="No se registro un Cliente",o.mostrarConfirmar=!1,o.tipoBotonCancelar="btn btn-danger",o.textoBotonCancelar="Aceptar",o.mostrarCancelar=!0):(o.textoMensaje="No se registro Productos para la Venta",o.mostrarConfirmar=!1,o.tipoBotonCancelar="btn btn-danger",o.textoBotonCancelar="Aceptar",o.mostrarCancelar=!0),a.setState({mensajeAlerta:o,tipoAccion:"CONFIRMAR-VENTA"}),a.toogleModalConfirmar()},a.eliminarVenta=function(e){(function(e){var t=w+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e).then((function(e){})),function(e){var t=bt+"codigoventa/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){})),a.resetEstado()},a.anularVenta=function(){a.state.codigoVenta.length>0&&a.eliminarVenta(a.state.codigoVenta)},a.confirmarCrearVenta=function(){window.addEventListener("beforeunload",(function(e){a.anularVenta(),e.returnValue="Se cancelo la venta, Desea Salir?"})),a.setState({confirmarCrearVenta:!a.state.confirmarCrearVenta},(function(){a.llenarListas(),a.crearVentaVacio()}))},a.state=jt,a.onChangeBuscadorProducto=a.onChangeBuscadorProducto.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"seleccionarProducto",value:function(e){var t=this;this.verificarProductoAgregar(e)?alert("Producto Ya Fue Registrado"):st(e.codigoProducto).then((function(e){e[0].stockExistente>0?(t.crearDetalleVentaTemporal(e[0],1),t.setState((function(){return{nombreProductoBuscar:"",sugerenciasProducto:[]}}))):alert("Sin Stock Disponible")}))}},{key:"seleccionarCliente",value:function(e){var t=e;this.setState((function(){return{nombreCliente:t.nombreCliente,cliente:t,sugerenciasCliente:[]}}))}},{key:"mostrarSugerenciasProductoLista",value:function(){var e=this,t=this.state.sugerenciasProducto;return 0===t.length?null:o.a.createElement("div",{className:"AutoCompleteText"},o.a.createElement("ul",null,t.map((function(t){return o.a.createElement("li",{key:t.codigoProducto,onClick:function(){return e.seleccionarProducto(t)}},t.descripcionProducto+" - "+t.detalleProducto)}))))}},{key:"mostrarSugerenciasClienteLista",value:function(){var e=this,t=this.state.sugerenciasCliente;return 0===t.length?null:o.a.createElement("div",{className:"AutoCompleteText"},o.a.createElement("ul",null,t.map((function(t){return o.a.createElement("li",{key:t.id,onClick:function(){return e.seleccionarCliente(t)}},t.nombreCliente)}))))}},{key:"crearVentaVacio",value:function(){var e=this;(function(e,t){var a=w+"vacio/"+e+"_"+t;return new Promise((function(e,t){fetch(a).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))}))})(localStorage.getItem("codigoUsuario"),localStorage.getItem("codigoLocal")).then((function(t){e.setState({codigoVenta:t[0].codigoVentaGenerado})}))}},{key:"listarProductosPrecioLocal",value:function(e){var t=this;mt(e).then((function(e){t.setState({productos:e})}))}},{key:"listarDetallesVentasVista",value:function(){var e=this;vt(this.state.codigoVenta).then((function(t){e.setState({detallesVentas:t})}))}},{key:"listarTiposDocumentos",value:function(){var e=this;je().then((function(t){e.setState({tiposDocumentos:t})}))}},{key:"listarClientes",value:function(){var e=this;new Promise((function(e,t){fetch(Tt).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(t){e.setState({clientes:t})}))}},{key:"render",value:function(){var e=this;if(this.state.confirmarCrearVenta){var t=this.state.nombreProductoBuscar,a=[{Header:"ITEM",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("label",null,e.original.codigoVD)},show:!1},{Header:"IMAGEN",Cell:function(e){return o.a.createElement("div",{className:""},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.descripcionProducto,className:"card-img-top media_producto"}))},maxWidth:200},{Header:"PRODUCTO",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"mt-2 infoProducto"},o.a.createElement("div",null,e.original.descripcionProducto),o.a.createElement("div",null,e.original.detalleProducto),o.a.createElement("div",null,e.original.nombreTipoProducto),o.a.createElement("div",null,e.original.descripcionPresentacion),o.a.createElement("div",null,"Stock: ",e.original.stockExistente),o.a.createElement("div",null,"Precio: S/.",e.original.valorPrecio.toFixed(2)))},width:250,minWidth:150,maxWidth:450},{Header:"SUB. TOTAL",style:{textAlign:"center"},Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center mt-1"},o.a.createElement("div",{className:"col-11 form-group"},o.a.createElement("input",{className:"form-control text-center",id:"cantidadProducto",type:"number",min:"1",max:""+t.original.stockExistente,placeholder:t.original.cantidadProducto,value:t.original.cantidadProducto,onChange:function(a){e.editarDetalleVentaTemporal(a,t.original)}})),o.a.createElement("div",{className:"col-11 form-group"},o.a.createElement("input",{className:"form-control text-center",id:"descripcionProducto",type:"text",readOnly:!0,value:"S/. "+t.original.valorTotalVD.toFixed(2)})),o.a.createElement("div",{className:"col-11"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.verificarEliminar(t.original,"ELIMINAR-DETALLE")}}," ",o.a.createElement(Pt.a,null)," "))))}}];return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"container col-md-8"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Venta de Productos")),o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 form group"},o.a.createElement("select",{className:"form-control custom-select",onChange:this.onChangeTipoBuscadorProducto},o.a.createElement("option",{value:"descripcionProducto"},"NOMBRE"),o.a.createElement("option",{value:"detalleProducto"},"MARCA"),o.a.createElement("option",{value:"codigoProducto"},"CODIGO"))),o.a.createElement("div",{className:"col-md-8"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Busqueda de Producto",value:t,onChange:this.onChangeBuscadorProducto,autoComplete:"off"}),this.mostrarSugerenciasProductoLista()),o.a.createElement("div",{className:"col-md-12 mt-3"},o.a.createElement(ve.a,{columns:a,noDataText:"Cargando Datos...",data:this.state.detalles,filterable:!1,defaultPageSize:5,showPaginationTop:!1,showPaginationBottom:!1})))))),o.a.createElement("div",{className:"container mt-3"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("button",{className:"btn btn-info",onClick:this.guardarVenta}," ",o.a.createElement(yt.a,null)," ")),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.verificarEliminar("","ANULAR-VENTA")}}," ",o.a.createElement(xt.a,null)," "))))),o.a.createElement("div",{className:"container col-md-4"},o.a.createElement("div",{className:"bg-primary"},o.a.createElement("h1",null,"S/. ",this.state.valorTotalVenta.toFixed(2))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{htmlFor:"documentoVenta"}," DOCUMENTO: "),o.a.createElement("select",{className:"form-control",id:"documentoVenta"},o.a.createElement("option",null,"Boleta"),o.a.createElement("option",null,"Factura"))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{htmlFor:"tipoPagoVenta"}," TIPO PAGO: "),o.a.createElement("select",{className:"form-control",id:"tipoPagoVenta"},o.a.createElement("option",null,"Efectivo"),o.a.createElement("option",null,"Tarjeta"))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{htmlFor:"serieVenta"}," SERIE: "),o.a.createElement("input",{className:"form-control",id:"serieVenta",type:"text",placeholder:"000"})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{htmlFor:"numeroVenta"}," N\xb0 DE VENTA: "),o.a.createElement("input",{className:"form-control",id:"numeroVenta",type:"text",value:this.state.codigoVenta,readOnly:!0})),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{htmlFor:"nombreCliente"}," CLIENTE: "),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-9"},o.a.createElement("input",{className:"form-control",id:"nombreCliente",type:"text",value:this.state.nombreCliente,onChange:this.onChangeBuscadorCliente,autoComplete:"off"}),this.mostrarSugerenciasClienteLista()),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"form-control btn btn-info",onClick:this.toogleModalCliente}," ",o.a.createElement(Ot.a,null)," ")))),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{htmlFor:"montoRecibido"}," MONTO RECIBIDO S/. "),o.a.createElement("input",{className:"form-control",id:"montoRecibido",type:"number",placeholder:"0",onChange:function(t){e.setMontoRecibido(t.target.value)},value:this.state.montoRecibido}))),o.a.createElement(gt.a,{className:"mb-3"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"SUB TOTAL")),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"S/. ",(parseFloat(this.state.valorTotalVenta)-.18*parseFloat(this.state.valorTotalVenta)).toFixed(2))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"I.G.V (18%)")),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"S/. ",(.18*parseFloat(this.state.valorTotalVenta)).toFixed(2))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"TOTAL")),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"S/. ",parseFloat(this.state.valorTotalVenta).toFixed(2))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"VUELTO: ")),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",null,"S/. ",parseFloat(this.state.montoRecibido-this.state.valorTotalVenta).toFixed(2)))),o.a.createElement(Ce.a,{isOpen:this.state.modalClienteOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalCliente.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement(Ct,{tiposDocumentos:this.state.tiposDocumentos,setCliente:this.setCliente,registrarCliente:this.registrarCliente}))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xs"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:""},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,this.state.mensajeAlerta.textoMensaje)),o.a.createElement("div",{className:"col-3 col-sm-3 col-md-3",hidden:!this.state.mensajeAlerta.mostrarConfirmar},o.a.createElement("button",{className:this.state.mensajeAlerta.tipoBotonConfirmar,onClick:this.botonConfirmado},this.state.mensajeAlerta.textoBotonConfirmar)),o.a.createElement("div",{className:"col-3 col-sm-3 col-md-3",hidden:!this.state.mensajeAlerta.mostrarCancelar},o.a.createElement("button",{className:this.state.mensajeAlerta.tipoBotonCancelar,onClick:this.toogleModalConfirmar.bind(this)},this.state.mensajeAlerta.textoBotonCancelar))))))))))}return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-5"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-4 mx-auto"},o.a.createElement("button",{className:"form-control btn btn-success",onClick:this.confirmarCrearVenta},"Confirmar Crear Venta")))))}}]),t}(n.Component),At={ventasRealizadas:[],detallesVenta:[],codigoLocal:localStorage.getItem("codigoLocal"),modalDetalleOpen:!1},Mt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).toogleModalDetalle=function(){a.setState({modalDetalleOpen:!a.state.modalDetalleOpen})},a.mostrarDetalleVenta=function(e){a.listarDetallesVenta(e),a.toogleModalDetalle()},a.listarVentasRealizadas=function(){(function(e){var t=w+"local/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(a.state.codigoLocal).then((function(e){console.log(e),a.setState({ventasRealizadas:e})}))},a.listarDetallesVenta=function(e){vt(e).then((function(e){a.setState({detallesVenta:e})}))},a.state=At,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.listarVentasRealizadas()}},{key:"render",value:function(){var e=this,t=[{Header:"CODIGO",accessor:"codigoVenta",style:{textAlign:"center"}},{Header:"CLIENTE",accessor:"nombreCliente",style:{textAlign:"center"}},{Header:"TRABAJADOR",accessor:"nombreTrabajador",style:{textAlign:"center"}},{Header:"FECHA",style:{textAlign:"center"},Cell:function(e){var t=new Date(e.original.fechaRegistro);return o.a.createElement("label",null,t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" -- "+t.getHours()+":"+t.getMinutes())}},{Header:"TOTAL",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("label",null,"S/."+e.original.valorTotalVenta.toFixed(2))}},{Header:"DETALLE",style:{textAlign:"center"},Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("button",{className:"btn btn-info",onClick:function(){e.mostrarDetalleVenta(t.original.codigoVenta)}},"Ver"))}}],a=[{Header:"IMAGEN",Cell:function(e){return o.a.createElement("div",{className:"media_producto"},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.descripcionProducto,className:"card-img-top"}))},width:100,minWidth:100,maxWidth:100},{Header:"PRODUCTO",accessor:"descripcionProducto",style:{textAlign:"center"}},{Header:"PRESENTACI\xd3N",accessor:"descripcionPresentacion",style:{textAlign:"center"}},{Header:"STOCK",accessor:"stockExistente",style:{textAlign:"center"}},{Header:"VAL. UNIDAD",accessor:"valorPrecio",style:{textAlign:"center"}},{Header:"CANT.",accessor:"cantidadProducto",style:{textAlign:"center"}},{Header:"VAL. TOTAL",style:{textAlign:"center"},Cell:function(e){var t=e.original.valorTotalVD;return o.a.createElement("input",{className:"form-control text-center",id:"descripcionProducto",type:"text",readOnly:!0,value:t})}}];return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null," Ventas Realizadas ")),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.ventasRealizadas,defaultPageSize:5}))),o.a.createElement(Ce.a,{isOpen:this.state.modalDetalleOpen,centered:!0,size:"xl",className:"pl-5"},o.a.createElement(Pe.a,{toggle:this.toogleModalDetalle.bind(this)},"Dellate De Venta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(ve.a,{columns:a,noDataText:"Cargando Datos...",data:this.state.detallesVenta,defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1}))))))))}}]),t}(n.Component),Dt=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"MED ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Sucursal"),o.a.createElement("th",null,"Tipo"),o.a.createElement("th",null,"Local"),o.a.createElement("th",null,"Direccion"),o.a.createElement("th",null,"Telefono"),o.a.createElement("th",null,"Horario"),o.a.createElement("th",null,"IP"),o.a.createElement("th",null,"MAC"))),o.a.createElement("tbody",null,this.props.locales.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoLocal),o.a.createElement("td",null,e.nombreSucursal),o.a.createElement("td",null,e.nombreTipoLocal),o.a.createElement("td",null,e.nombreLocal),o.a.createElement("td",null,e.direccionLocal),o.a.createElement("td",null,e.numeroTelefono),o.a.createElement("td",null,e.horarioAtencion),o.a.createElement("td",null,e.ipLocal),o.a.createElement("td",null,e.macLocal))}))))))}}]),t}(n.Component),wt=E+"/api/sucursales/";function kt(){var e=wt;return new Promise((function(t,a){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function Lt(e){var t=wt+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}var It=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).state={productos:e.productos},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[{Header:"Producto",Cell:function(e){return o.a.createElement("div",null,o.a.createElement("span",null," ",e.original.descripcionProducto+" - "+e.original.detalleProducto),o.a.createElement("br",null),o.a.createElement("span",null,o.a.createElement("b",null," Stock: "),e.original.stockExistente))}}];return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Productos en Existencia")),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:e,noDataText:"Cargando Datos...",data:this.state.productos,filterable:!0,defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1}))))}}]),t}(n.Component),Rt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/locales",a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.mostrarModal=function(e){a.setState({codigoLocalEliminar:e}),a.toogleModalConfirmar()},a.borrarConfirmado=function(){var e=a.state.codigoLocalEliminar;a.eliminiarLocal(e),a.toogleModalConfirmar()},a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.eliminiarLocal=function(e){(function(e){var t=b+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e).then((function(e){a.listarLocal(a.state.nombreTipoLocal)}))},a.guardarLocal=function(){var e=a.state.local,t={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};switch(a.state.tipoAccion){case"post":(function(e){var t=b;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e).then((function(e){t.alert="success",t.text="Se guardo correctamente",a.toogleModalForm()}));break;case"put":(function(e){var t=b;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e).then((function(e){t.alert="success",t.text="Se modifico correctamente",a.toogleModalForm()}))}a.cambiarAlerta(t)},a.state={local:{codigoLocal:"",codigoSucursal:"",codigoTipoLocal:"",nombreLocal:"",direccionLocal:"",numeroTelefono:"",horarioAtencion:"",ipLocal:"",macLocal:"",nombreTipoLocal:"Seleccione Tipo",nombreSucursal:"Seleccione Sucursal"},locales:[],localExcel:[],filtered:[],sucursales:[],tiposLocales:[],productos:[],modalListaProductosOpen:!1,message:{text:"",alert:""},messageActivo:!1,tipoAccion:"post",modalFormOpen:!1,tituloModal:"",nombreTipoLocal:e.nombreTipoLocal,modalConfirmarOpen:!1,tipoEliminar:"",codigoLocalEliminar:""},a.setLocal=a.setLocal.bind(Object(h.a)(a)),a.toogleModalListaProducto=a.toogleModalListaProducto.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"setLocal",value:function(e){var t=this.state.local;t[e.target.id]=e.target.value,this.setState({local:t})}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"toogleModalListaProducto",value:function(){this.setState({modalListaProductosOpen:!this.state.modalListaProductosOpen})}},{key:"toogleModalForm",value:function(){this.setState({modalFormOpen:!this.state.modalFormOpen}),this.state.modalFormOpen||this.listarLocal(this.state.nombreTipoLocal)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?T(e).then((function(e){e[0]&&a.setState({local:e[0],tipoAccion:"put",tituloModal:t})})):this.setState({tipoAccion:"post",tituloModal:t}),this.toogleModalForm()}},{key:"listarLocal",value:function(e){var t=this;""!==e&&null!==e&&N(e,"").then((function(e){t.setState({locales:e})}))}},{key:"listarSucursal",value:function(){var e=this;kt().then((function(t){e.setState({sucursales:t})}))}},{key:"listarTipoLocal",value:function(){var e=this;Ae().then((function(t){e.setState({tiposLocales:t})}))}},{key:"listarProducto",value:function(e){var t=this;this.state.modalListaProductosOpen||mt(e).then((function(e){t.setState({productos:e},(function(){return t.toogleModalListaProducto()}))}))}},{key:"llenarListas",value:function(){this.listarLocal(this.state.nombreTipoLocal),this.listarSucursal(),this.listarTipoLocal()}},{key:"componentDidMount",value:function(){this.llenarListas()}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO LOCAL",accessor:"codigoLocal",style:{textAlign:"center"},show:!1},{Header:"CODIGO SUCURSAL",accessor:"codigoSucursal",style:{textAlign:"center"},show:!1},{Header:"CODIGO TIPO LOCAL",accessor:"codigoTipoLocal",style:{textAlign:"center"},show:!1},{Header:"MAC LOCAL",accessor:"macLocal",style:{textAlign:"center"},show:!1},{Header:"IP LOCAL",accessor:"ipLocal",style:{textAlign:"center"},show:!1},{Header:"LOCAL",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("span",null,e.original.nombreTipoLocal+" : "+e.original.nombreSucursal),o.a.createElement("span",null,e.original.nombreLocal+" : "+e.original.direccionLocal),o.a.createElement("span",null,e.original.numeroTelefono+" : "+e.original.horarioAtencion))}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.mostrarModal(t.original.codigoLocal)}},"Borrar")),o.a.createElement("div",{className:"col-md-4 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.verificarAccion(t.original.codigoLocal,"MODIFICAR")}},"Editar")),o.a.createElement("div",{className:"col-md-4 ml-auto"},o.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.listarProducto(t.original.codigoLocal)}},"Productos"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,this.state.nombreTipoLocal,"(S) EN EXISTENCIA")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info"},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify",onClick:function(){e.verificarAccion("","REGISTRAR")}},"Tipo de Local."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"LocalExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.locales,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Dt,{locales:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalListaProductosOpen,centered:!0},o.a.createElement(Pe.a,{toggle:this.toogleModalListaProducto.bind(this)},"Productos en Existencia"),o.a.createElement(ye.a,null,o.a.createElement(It,{productos:this.state.productos}))),o.a.createElement(Ce.a,{isOpen:this.state.modalFormOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalForm.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Local")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigoSucursal"}," Sucursal: "),o.a.createElement("select",{className:"form-control custom-select ",id:"codigoSucursal",onChange:this.setLocal},o.a.createElement("option",{value:this.state.local.codigoSucursal},this.state.local.nombreSucursal),this.state.sucursales.map((function(e){return o.a.createElement("option",{key:e.id,value:e.codigoSucursal},e.nombreSucursal)})))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigoTipoLocal"}," Local: "),o.a.createElement("select",{className:"form-control custom-select ",id:"codigoTipoLocal",onChange:this.setLocal},o.a.createElement("option",{value:this.state.local.codigoTipoLocal},this.state.local.nombreTipoLocal),this.state.tiposLocales.map((function(e){return o.a.createElement("option",{key:e.id,value:e.codigoTipoLocal},e.nombreTipoLocal)})))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"nombreLocal"}," Nombre: "),o.a.createElement("input",{id:"nombreLocal",className:"form-control",type:"text",value:this.state.local.nombreLocal,onChange:this.setLocal})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"direccionLocal"}," Direccion: "),o.a.createElement("input",{id:"direccionLocal",className:"form-control",type:"text",value:this.state.local.direccionLocal,onChange:this.setLocal})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"numeroTelefono"}," Telefono: "),o.a.createElement("input",{id:"numeroTelefono",className:"form-control",type:"text",value:this.state.local.numeroTelefono,onChange:this.setLocal})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"horarioAtencion"}," Horario: "),o.a.createElement("input",{id:"horarioAtencion",className:"form-control",type:"text",value:this.state.local.horarioAtencion,onChange:this.setLocal})),o.a.createElement("div",{hidden:!0,className:"col-md-6 form-group"},o.a.createElement("label",{for:"ipLocal"}," IP: "),o.a.createElement("input",{id:"ipLocal",className:"form-control",type:"text",value:this.state.local.ipLocal,onChange:this.setLocal})),o.a.createElement("div",{hidden:!0,className:"col-md-6 form-group"},o.a.createElement("label",{for:"macLocal"}," MAC: "),o.a.createElement("input",{id:"macLocal",className:"form-control",type:"text",value:this.state.local.macLocal,onChange:this.setLocal}))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarLocal}," REGISTRAR ")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,"Se eliminar\xe1 el Registro, \xbfDesea Continuar? ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:this.borrarConfirmado},"Eliminar")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-info",onClick:this.toogleModalConfirmar.bind(this)},"Cancelar")))))))))))}}]),t}(n.Component),Vt=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Sucursal"))),o.a.createElement("tbody",null,this.props.sucursales.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoSucursal),o.a.createElement("td",null,e.nombreSucursal))}))))))}}]),t}(n.Component),Ut=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/sucursales",a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.guardarSucursal=function(){var e=a.state,t={nombreSucursal:e.nombreSucursal,codigoSucursal:e.codigoSucursal},n={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};switch(a.state.tipoAccion){case"post":(function(e){var t=wt;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se guardo correctamente",a.toogleModal()}));break;case"put":(function(e){var t=wt;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(t).then((function(e){n.alert="success",n.text="Se modifico correctamente",a.toogleModal()}))}a.cambiarAlerta(n)},a.setValues=function(e,t){a.setState(Object(s.a)({},t,e.target.value))},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={sucursal:[],filtered:[],SucursalExcel:[],message:{text:"",alert:""},messageActivo:!1,codigoSucursal:"",nombreSucursal:"",tipoAccion:"post",modalOpen:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarSucursal",value:function(e){var t=this;""!==e&&null!==e?Lt(e).then((function(e){t.setState({sucursal:e})})):kt().then((function(e){t.setState({sucursal:e})}))}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarSucursal",value:function(e){var t=this,a={text:"",alert:""};""!==e&&null!==e&&function(e){var t=wt+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.listarSucursal("")})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this;null!==e&&""!==e?Lt(e).then((function(e){e[0]&&a.setState({nombreSucursal:e[0].nombreSucursal,codigoSucursal:e[0].codigoSucursal,tipoAccion:"put",tituloModal:t})})):this.setState({nombreSucursal:"",codigoSucursal:"",tipoAccion:"post",tituloModal:t}),this.toogleModal()}},{key:"toogleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen}),this.state.modalOpen||this.listarSucursal("")}},{key:"componentDidMount",value:function(){this.listarSucursal("")}},{key:"render",value:function(){var e=this,t=[{Header:"ID",accessor:"id",style:{textAlign:"center"},show:!1},{Header:"CODIGO",accessor:"codigoSucursal",style:{textAlign:"center"}},{Header:"Local",accessor:"nombreSucursal",style:{textAlign:"center"}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarSucursal(t.original.codigoSucursal)}},"Borrar")),o.a.createElement("div",{className:"col-md-5 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original.codigoSucursal,"Modificar")}},"Editar"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Sucursales Registrados")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Sucursal."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"SucursalExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.sucursal,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Vt,{sucursales:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModal.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Tipo de Local")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nombreSucursal"}," Nombre Local: "),o.a.createElement("input",{className:"form-control",id:"nombreSucursal",type:"text",placeholder:"Ejemplo: Almacen",value:this.state.nombreSucursal,onChange:function(t){return e.setValues(t,"nombreSucursal")}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarSucursal}," REGISTRAR ")))))))))))}}]),t}(n.Component),Ft=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"TPD ID"),o.a.createElement("th",null,"Codigo"),o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Trabajador"),o.a.createElement("th",null,"Ultimo Ingreso"))),o.a.createElement("tbody",null,this.props.usuarios.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.id),o.a.createElement("td",null,e.codigoUsuario),o.a.createElement("td",null,e.nombreUsuario),o.a.createElement("td",null,e.codigoTrabajador),o.a.createElement("td",null,e.ultimoIngreso))}))))))}}]),t}(n.Component),Ht=E+"/api/trabajadores/";var Bt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).state={codigoUsuario:e.codigoUsuario,conexionesUsuario:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarConexiones",value:function(){var e=this;(function(e){var t=O+"conexiones/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){a(e)}))}))})(this.state.codigoUsuario).then((function(t){e.setState({conexionesUsuario:t})}))}},{key:"componentDidMount",value:function(){this.listarConexiones()}},{key:"render",value:function(){var e=[{Header:"LOCAL",accessor:"nombreLocal",style:{textAlign:"center"}},{Header:"ESTADO",Cell:function(e){return e.original.conexionUsuario!==e.original.estadoSesion?o.a.createElement("span",null,"Desconectado"):e.original.estadoSesion?o.a.createElement("span",null,"Conectado"):void 0}},{Header:"F. INGRESO",accessor:"fechaIngreso",style:{textAlign:"center"}},{Header:"F. SALIDA",accessor:"fechaSalida",style:{textAlign:"center"}}];return o.a.createElement("div",null,o.a.createElement(ve.a,{columns:e,noDataText:"Cargando Datos...",data:this.state.conexionesUsuario,filterable:!0,defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1}))}}]),t}(n.Component),Gt={codigoUsuario:"",nombreUsuario:"",contraUsuario:"",codigoTrabajador:"",codigoMedia:"MED-00000000001",estadoUsuario:1,conexionUsuario:0},zt={codigoTrabajador:"",nombreTrabajador:"",apePaTrabajador:"",apeMaTrabajador:"",codigoTipoDocumento:"TP-DOC-001",nombreTipoDocumento:"",numDocuTrabajador:"",numTeleTrabajador:"",correoTrabajador:"",direccionTrabajador:"",especialidadTrabajador:"",estadoTrabajador:!0,fechaNacimiento:"",codigoMedia:"MED-00000000001",urlMedia:""},Jt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).BaseUrl=E+"/api/usuarios",a.mostrarFormTrabajador=function(){a.setState({mostrarFormTrabajador:!a.state.mostrarFormTrabajador})},a.setFileMedia=function(e){var t=e.target.files[0],n=t.type.replace("/","-"),o=a.state.media,r=localStorage.getItem("codigoUsuario");ke(n).then((function(e){o.codigoTipoMedia=e[0].codigoTipoMedia,o.nombreMedia=t.name,o.altMedia=t.name,o.urlMedia="/img/"+t.name,o.codigoUsuario=r,a.setState({file:t,media:o,nombreFile:t.name})}))},a.guardarMedia=function(){var e=a.state,t=e.file,n=e.media;null!==t&&Qe(n).then((function(e){a.setState({codigoMediaTrabajador:e[0][0].codigoMedia}),$e(t).then((function(e){})),a.guardarUsuario()}))},a.onFilteredChangeCustom=function(e,t){var n=a.state.filtered,o=1;n.length&&n.forEach((function(a,r){a.id===t&&(""!==e&&e.length?a.value=e:n.splice(r,1),o=0)})),o&&n.push({id:t,value:e}),a.setState({filtered:n})},a.listarTiposDocumentos=function(){je().then((function(e){a.setState({tiposDocumentos:e})}))},a.guardarUsuario2=function(){a.guardarMedia()},a.guardarUsuario=function(){var e,t=a.state,n=t.usuario,o=t.trabajador,r={text:"Algo salio mal vuelve a intertarlo",alert:"danger"};switch(o.codigoMedia=a.state.codigoMediaTrabajador,o.estadoTrabajador=1,a.state.tipoAccion){case"post":(function(e){var t=Ht;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(o).then((function(e){a.setState({codigoTrabajadorRegistrado:e[0][0].codigoTrabajador},(function(){n.codigoTrabajador=a.state.codigoTrabajadorRegistrado,n.codigoMedia="MED-00000000001",n.estadoUsuario=1,n.conexionUsuario=0,function(e){return new Promise((function(t,a){fetch(O,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(n).then((function(e){r.alert="success",r.text="Se modifico correctamente",a.toogleModalUsuario()}))}))}));break;case"put":(e=n,new Promise((function(t,a){fetch(O,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))).then((function(e){(function(e){var t=Ht;return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(o).then((function(e){r.alert="success",r.text="Se modifico correctamente",a.toogleModalUsuario()}))}))}a.cambiarAlerta(r)},a.setUsuario=function(e){var t=a.state.usuario;t[e.target.id]=e.target.value,a.setState({usuario:t})},a.setTrabajador=function(e){var t=a.state.trabajador;t[e.target.id]=e.target.value,a.setState({trabajador:t})},a.mostrarAlerta=function(e){setTimeout((function(){a.setState({message:{text:"",alert:""}})}),e)},a.state={tiposDocumentos:[],conexionesUsuario:[],codigoUsuarioConexion:"",usuarios:[],usuario:Gt,trabajadores:[],trabajador:zt,codigoMediaTrabajador:"",codigoTrabajadorRegistrado:"",media:{codigoMedia:"",nombreMedia:"",altMedia:"",urlMedia:"",codigoTipoMedia:"",codigoUsuario:""},codigoTipoDocumento:"",file:null,nombreFile:"",filtered:[],UsuarioExcel:[],message:{text:"",alert:""},messageActivo:!1,tipoAccion:"post",modalOpen:!1,modalUsuarioOpen:!1,modalConexionesOpen:!1,mostrarFormTrabajador:!1,tituloModal:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTrabajador",value:function(){var e=this;S("").then((function(t){e.setState({trabajadores:t})}))}},{key:"listarUsuario",value:function(e){var t=this;""!==e&&null!==e?j(e).then((function(e){t.setState({usuarios:e})})):new Promise((function(e,t){fetch(O).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){t.setState({usuarios:e})}))}},{key:"llenarListas",value:function(){this.listarUsuario(""),this.listarTrabajador()}},{key:"cambiarAlerta",value:function(e){this.setState({message:e}),this.mostrarAlerta(3e3)}},{key:"eliminarUsuario",value:function(e){var t=this,a={text:"",alert:""},n=e.codigoUsuario,o=e.codigoTrabajador;""!==n&&null!==n&&function(e){return new Promise((function(t,a){fetch(O+e,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(n).then((function(e){(function(e){var t=Ht+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(o).then((function(e){a.alert="danger",a.text="Se elimino correctamente",t.llenarListas()}))})),this.cambiarAlerta(a)}},{key:"verificarAccion",value:function(e,t){var a=this,n=e.codigoUsuario,o=e.codigoTrabajador;""!==n&&""!==o&&null!==n&&null!==o?j(n).then((function(e){(function(e){var t=Ht+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(o).then((function(n){n[0].fechaNacimiento=n[0].fechaNacimiento.substring(0,10),a.setState({usuario:e[0],trabajador:n[0],tipoAccion:"put",tituloModal:t})}))})):this.setState({usuario:Gt,trabajador:zt,tipoAccion:"post",tituloModal:t}),this.toogleModalUsuario()}},{key:"toogleModalUsuario",value:function(){this.setState({modalUsuarioOpen:!this.state.modalUsuarioOpen}),this.state.modalUsuarioOpen||this.llenarListas()}},{key:"toogleModalConexiones",value:function(){this.setState({modalConexionesOpen:!this.state.modalConexionesOpen})}},{key:"verificarAccionConexiones",value:function(e){""!==e&&null!==e&&this.setState({codigoUsuarioConexion:e}),this.toogleModalConexiones()}},{key:"componentDidMount",value:function(){this.llenarListas(),this.listarTiposDocumentos()}},{key:"render",value:function(){var e=this,t=[{Header:"ID_USUARIO",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("span",null,e.original.nombreUsuario)}},{Header:"NOMBRES",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("span",null,e.original.nombreTrabajador)}},{Header:"APELLIDOS",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",null,o.a.createElement("span",null,e.original.apePaTrabajador+" "+e.original.apeMaTrabajador))}},{Header:"CONTACTO",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",null,o.a.createElement("span",null,e.original.correoTrabajador+" "+e.original.numTeleTrabajador))}},{Header:"CONEXI\xd3N",style:{textAlign:"center"},Cell:function(e){return e.original.conexionUsuario?o.a.createElement("div",null,o.a.createElement("span",null,"Usuario Conectado")):o.a.createElement("div",null,o.a.createElement("span",null,"Usuario Desconectado"))}},{Header:"ACCIONES",Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.eliminarUsuario(t.original)}},"Borrar")),o.a.createElement("div",{className:"col-md-3 ml-auto"},o.a.createElement("button",{className:"btn btn-warning",onClick:function(a){return e.verificarAccion(t.original,"Modificar")}},"Editar")),o.a.createElement("div",{className:"col-md-3 ml-auto"},o.a.createElement("button",{className:"btn btn-info",onClick:function(a){return e.verificarAccionConexiones(t.original.codigoUsuario)}},"Conexiones"))))},sortable:!1,filterable:!1}],a={cursor:"pointer"};return o.a.createElement("div",{className:"container p-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11 mx-auto"},o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Usuarios Registrados")),o.a.createElement("div",{className:"m-2 text-center"},""!==this.state.message.text?o.a.createElement(C.a,{color:this.state.message.alert},this.state.message.text):""),o.a.createElement("div",{className:"row m-2"},o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card text-white bg-info",onClick:function(){e.verificarAccion("","Registrar")}},o.a.createElement("div",{className:"card-header"},"Registrar"),o.a.createElement("button",{className:"btn card-body text-white text-justify"},"Usuario."))),o.a.createElement("div",{className:"col-sm",style:a},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement("div",{className:"card-header"},"Exportar"),o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn card-body text-white text-justify",table:"table-to-xls",filename:"UsuarioExcel",sheet:"hoja 1",buttonText:"A Documento Excel."})))),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.trabajadores,filterable:!0,filtered:this.state.filtered,onFilteredChange:function(t,a,n){e.onFilteredChangeCustom(n,a.id||a.accessor)},defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return"object"===typeof e.value?void 0===t[n]||e.value.indexOf(t[n])>-1:void 0===t[n]||String(t[n]).indexOf(e.value)>-1},defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Ft,{usuarios:e.reactTable}))}))),o.a.createElement(Ce.a,{isOpen:this.state.modalConexionesOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConexiones.bind(this)},"Conexiones del Usuario"),o.a.createElement(ye.a,null,o.a.createElement(Bt,{codigoUsuario:this.state.codigoUsuarioConexion}))),o.a.createElement(Ce.a,{isOpen:this.state.modalUsuarioOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalUsuario.bind(this)},this.state.tituloModal),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"card "},o.a.createElement("div",{className:"card-header text-center"},o.a.createElement("h3",null,"Usuario")),o.a.createElement("div",{className:"card-body "},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"nombreUsuario"}," ID Usuario: "),o.a.createElement("input",{className:"form-control",id:"nombreUsuario",type:"text",placeholder:"Ejemplo: Jorge",value:this.state.usuario.nombreUsuario,onChange:function(t){return e.setUsuario(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"contraUsuario"}," Contrase\xf1a: "),o.a.createElement("input",{className:"form-control",id:"contraUsuario",type:"password",onChange:function(t){return e.setUsuario(t)}})),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("div",{class:"form-check"},o.a.createElement("input",{class:"form-check-input position-static",type:"checkbox",onChange:this.mostrarFormTrabajador}),o.a.createElement("label",{class:"form-check-label",for:"defaultCheck1"},"Registrar Datos de Trabajador"))),o.a.createElement("div",{className:"container",hidden:!this.state.mostrarFormTrabajador},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"apePaTrabajador"}," AP Paterno: "),o.a.createElement("input",{className:"form-control",id:"apePaTrabajador",type:"text",value:this.state.trabajador.apePaTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"apeMaTrabajador"}," AP Materno: "),o.a.createElement("input",{className:"form-control",id:"apeMaTrabajador",type:"text",value:this.state.trabajador.apeMaTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"nombreTrabajador"}," Nombres: "),o.a.createElement("input",{className:"form-control",id:"nombreTrabajador",type:"text",value:this.state.trabajador.nombreTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"numTeleTrabajador"}," Telefono: "),o.a.createElement("input",{className:"form-control",id:"numTeleTrabajador",type:"text",value:this.state.trabajador.numTeleTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"codigoTipoDocumento"}," Documento: "),o.a.createElement("select",{className:"form-control",id:"codigoTipoDocumento",onChange:function(t){return e.setTrabajador(t)}},o.a.createElement("option",{value:this.state.trabajador.codigoTipoDocumento},this.state.trabajador.nombreTipoDocumento),this.state.tiposDocumentos.map((function(e){return o.a.createElement("option",{key:e.id,value:e.codigoTipoDocumento},e.nombreTipoDocumento)})))),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"numDocuTrabajador"}," Numero: "),o.a.createElement("input",{className:"form-control",id:"numDocuTrabajador",type:"text",value:this.state.trabajador.numDocuTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"correoTrabajador"}," Correo: "),o.a.createElement("input",{className:"form-control",id:"correoTrabajador",type:"text",value:this.state.trabajador.correoTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"fechaNacimiento"}," Fecha Nacimiento: "),o.a.createElement("input",{className:"form-control",id:"fechaNacimiento",type:"date","data-date-format":"YYYY MM DD",value:this.state.trabajador.fechaNacimiento,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"direccionTrabajador"}," Direccion: "),o.a.createElement("input",{className:"form-control",id:"direccionTrabajador",type:"text",value:this.state.trabajador.direccionTrabajador,onChange:function(t){return e.setTrabajador(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"especialidadTrabajador"}," Especialidad: "),o.a.createElement("input",{className:"form-control",id:"especialidadTrabajador",type:"text",value:this.state.trabajador.especialidadTrabajador,onChange:function(t){return e.setTrabajador(t)}})))),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{for:"mediaUsuario"}," Imagen:"),o.a.createElement("div",{class:"custom-file"},o.a.createElement("input",{type:"file",class:"custom-file-input",id:"customFileLang",lang:"es",onChange:function(t){return e.setFileMedia(t)}}),o.a.createElement("label",{"data-browse":"Buscar",class:"custom-file-label",for:"customFileLang"},this.state.trabajador.urlMedia)))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarUsuario2}," REGISTRAR "))))))))))}}]),t}(n.Component),_t=(a(123),E+"/api/traslados/");var Yt=E+"/api/traslados/detalles/";var Wt={productosVenta:[],sugerenciasProducto:[],detallesEnvio:[],locales:[],local:{},nombreProductoBuscar:"",tipoBuscadorProducto:"descripcionProducto",nombreTiendaDestino:"",codigoTraslado:"",traslado:{id:"",codigoTraslado:"",codigoUsuario:localStorage.getItem("codigoUsuario"),codigoTipoTraslado:"",origenTraslado:localStorage.getItem("codigoLocal"),destinoTraslado:"",fechaVencimiento:"",valorTotal:"",observacionOrigen:"",observacionDestino:"",fechaRegistro:"",codigoUsuarioConfirmacion:"",confirmacion:0,fechaConfirmacion:""},codigoTDTemporal:"",fechaVencimiento:"",observacionOrigen:"",valorTotalEnvio:0,confirmarCrearTraslado:!1,confirmarEliminar:!1,tipoAccion:!1,detalle:{},totalProducto:0,mensajeAlerta:{textoMensaje:"",tipoBotonConfirmar:"",textoBotonConfirmar:"",mostrarConfirmar:!1,tipoBotonCancelar:"",textoBotonCancelar:"",mostrarCancelar:!1}},qt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).buscarIndexProductos=function(e){return a.state.productosVenta.indexOf(e)},a.toogleModalConfirmar=function(){a.setState({modalConfirmarOpen:!a.state.modalConfirmarOpen})},a.crearMensajeAlerta=function(e){var t=a.state.mensajeAlerta;t.textoMensaje=e.textoMensaje,t.tipoBotonConfirmar=e.tipoBotonConfirmar,t.textoBotonConfirmar=e.textoBotonConfirmar,t.tipoBotonCancelar=e.tipoBotonCancelar,t.textoBotonCancelar=e.textoBotonCancelar,t.mostrarCancelar=e.mostrarCancelar,a.setState({mensajeAlerta:t})},a.verificarEliminar=function(e,t){var n=a.state.mensajeAlerta;switch(t){case"ELIMINAR-DETALLE":n.textoMensaje="Se eliminar\xe1 el Registro, \xbfDesea Continuar?",n.tipoBotonConfirmar="btn btn-danger",n.textoBotonConfirmar="Eliminar",n.mostrarConfirmar=!0,n.tipoBotonCancelar="btn btn-info",n.textoBotonCancelar="Cancelar",n.mostrarCancelar=!0;break;case"ANULAR-TRASLADO":n.textoMensaje="Se anular\xe1 el Envio, \xbfDesea Continuar?",n.tipoBotonConfirmar="btn btn-danger",n.textoBotonConfirmar="Anular",n.mostrarConfirmar=!0,n.tipoBotonCancelar="btn btn-info",n.textoBotonCancelar="Cancelar",n.mostrarCancelar=!0}a.setState({detalle:e,tipoAccion:t,mensajeAlerta:n}),a.toogleModalConfirmar()},a.botonConfirmado=function(){var e=a.state.tipoAccion;"ELIMINAR-DETALLE"===e&&(a.borrarDetalleTrasladoTemporal(),a.toogleModalConfirmar()),"ANULAR-TRASLADO"===e&&a.anularTraslado(),"CONFIRMAR-ENVIO"===e&&(a.confirmarGuardarEnvio(),a.toogleModalConfirmar())},a.setTraslado=function(e){var t=a.state.traslado,n=a.state,o=n.fechaVencimiento,r=n.observacionOrigen,c=n.nombreTiendaDestino;t[e.target.id]=e.target.value,"fechaVencimiento"===e.target.id&&(o=e.target.value),"observacionOrigen"===e.target.id&&(r=e.target.value),"destinoTraslado"===e.target.id&&(c=e.target.options[e.target.selectedIndex].text),a.setState({traslado:t,fechaVencimiento:o,observacionOrigen:r,nombreTiendaDestino:c})},a.onChangeTipoBuscadorProducto=function(e){var t=e.target.value;a.setState((function(){return{tipoBuscadorProducto:t}}))},a.onChangeBuscadorProducto=function(e){var t=e.target.value,n=[];if(t.length>0){var o=new RegExp("^".concat(t),"i");n=a.state.productosVenta.sort().filter((function(e){return o.test(e[a.state.tipoBuscadorProducto])}))}a.setState((function(){return{sugerenciasProducto:n,nombreProductoBuscar:t}}))},a.setValorTotalEnvio=function(){var e=0;a.state.detallesEnvio.forEach((function(t){e+=t.valorTotalTD})),a.setState({valorTotalEnvio:e})},a.buscarIndexDetalles=function(e){return a.state.detallesEnvio.indexOf(e)},a.verificarProductoAgregar=function(e){var t=a.state.detallesEnvio,n=!1;return t.forEach((function(t){t.codigoProducto===e.codigoProducto&&(n=!0)})),n},a.crearDetalleTraslado=function(e){(function(e){var t=Yt+"temporal";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e).then((function(e){}))},a.crearDetalleTrasladoTemporal=function(e,t){(function(e){var t=Yt+"temporal";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})({codigoTraslado:a.state.codigoTraslado,codigoProducto:e.codigoProducto,codigoPrecio:e.codigoPrecio}).then((function(n){a.setState({codigoTDTemporal:n[0][0].codigoTD},(function(){var n={urlMedia:e.urlMedia,descripcionProducto:e.descripcionProducto,descripcionPresentacion:e.descripcionPresentacion,detalleProducto:e.detalleProducto,nombreTipoProducto:e.nombreTipoProducto,valorPrecio:e.valorPrecio,cantidadProducto:t,stockExistente:e.stockExistente,valorTotalTD:e.valorPrecio*t,codigoTD:a.state.codigoTDTemporal,codigoProducto:e.codigoProducto,codigoPrecio:e.codigoPrecio,codigoTraslado:a.state.codigoTraslado,codigoLocal:localStorage.getItem("codigoLocal")};a.setState({detallesEnvio:a.state.detallesEnvio.concat(n),totalProducto:a.state.totalProducto+n.cantidadProducto},(function(){a.setValorTotalEnvio()}))}))}))},a.editarDetalleTrasladoTemporal=function(e,t){var n=a.state.totalProducto;n-=parseInt(t.cantidadProducto);var o=a.buscarIndexDetalles(t),r=Object.assign({},a.state.detallesEnvio[o]),c=e.target.value;r.cantidadProducto=c,r.valorTotalTD=t.valorPrecio*c;var i=Object.assign([],a.state.detallesEnvio);i[o]=r,n+=parseInt(r.cantidadProducto),a.setState({detallesEnvio:i,totalProducto:n},(function(){a.setValorTotalEnvio()}))},a.borrarDetalleTrasladoTemporal=function(){var e=a.state.detalle,t=a.buscarIndexDetalles(e),n=Object.assign([],a.state.detallesEnvio);n.splice(t,1),a.setState({detallesEnvio:n,totalProducto:a.state.totalProducto-e.cantidadProducto},(function(){a.setValorTotalEnvio()})),function(e){var t=Yt+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e.codigoTD).then((function(e){}))},a.guardarDetalleTraslado=function(e){(function(e){var t=Yt;return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})(e).then((function(e){}))},a.confirmarGuardarEnvio=function(){var e=a.state,t=e.traslado,n=e.detallesEnvio;t.valorTotal=a.state.valorTotalEnvio,t.codigoTraslado=a.state.codigoTraslado,t.codigoTipoTraslado=a.props.codigoTipoTraslado,n.forEach((function(e){a.crearDetalleTraslado(e)})),function(e){return new Promise((function(t,a){fetch(_t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(t).then((function(e){e&&a.resetEstado()}))},a.guardarEnvio=function(){var e=a.state,t=e.detallesEnvio,n=e.mensajeAlerta,o=!0;n.textoMensaje="Seleccione un Destino Correcto",n.mostrarConfirmar=!1,n.tipoBotonCancelar="btn btn-danger",n.textoBotonCancelar="Aceptar",n.mostrarCancelar=!0,a.state.traslado.destinoTraslado===a.state.traslado.origenTraslado&&(o=!1),null!==a.state.traslado.destinoTraslado&&""!==a.state.traslado.destinoTraslado||(o=!1),o&&(t.length>0?(n.textoMensaje="Se enviar\xe1 "+a.state.totalProducto+" Producto(s) a la "+a.state.nombreTiendaDestino,n.tipoBotonConfirmar="btn btn-success",n.textoBotonConfirmar="Confirmar",n.mostrarConfirmar=!0,n.tipoBotonCancelar="btn btn-danger",n.textoBotonCancelar="Cancelar",n.mostrarCancelar=!0):(n.textoMensaje="No se registro Productos Para el Envio",n.mostrarConfirmar=!1,n.tipoBotonCancelar="btn btn-danger",n.textoBotonCancelar="Aceptar",n.mostrarCancelar=!0)),a.setState({mensajeAlerta:n,tipoAccion:"CONFIRMAR-ENVIO"}),a.toogleModalConfirmar()},a.eliminarEnvio=function(e){(function(e){var t=_t+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e).then((function(e){})),function(e){var t=Yt+"envio/"+e;return new Promise((function(e,a){fetch(t,{method:"DELETE",headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(e){})),a.resetEstado()},a.anularTraslado=function(){a.state.codigoTraslado.length>0&&a.eliminarEnvio(a.state.codigoTraslado)},a.resetEstado=function(){a.setState(Wt)},a.confirmarCrearEnvio=function(){window.addEventListener("beforeunload",(function(e){a.anularTraslado(),e.returnValue="Se cancelo el Envio, Desea Salir?"})),a.setState({confirmarCrearTraslado:!a.state.confirmarCrearTraslado},(function(){a.obtenerLocal(localStorage.getItem("codigoLocal")),a.llenarListas(localStorage.getItem("codigoLocal")),a.crearTrasladoVacio()}))},a.state=Wt,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"obtenerFechaHoy",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=t+"-";o=a<10?o+"0"+a:o+""+a,o+="-",o=n<10?o+"0"+n:o+""+n,this.setState({traslado:Object(A.a)({},this.state.traslado,{fechaVencimiento:o}),fechaVencimiento:o})}},{key:"mostrarSugerenciasProductoLista",value:function(){var e=this,t=this.state.sugerenciasProducto;return 0===t.length?null:o.a.createElement("div",{className:"AutoCompleteText"},o.a.createElement("ul",null,t.map((function(t){return o.a.createElement("li",{key:t.id,onClick:function(){return e.seleccionarProducto(t)}},t.descripcionProducto+" - "+t.detalleProducto)}))))}},{key:"crearTrasladoVacio",value:function(){var e=this;(function(e){var t=_t+"vacio";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))})({codigoUsuario:localStorage.getItem("codigoUsuario"),codigoLocal:localStorage.getItem("codigoLocal")}).then((function(t){e.setState({codigoTraslado:t[0].codigoTrasladoGenerado})}))}},{key:"seleccionarProducto",value:function(e){var t=this;this.verificarProductoAgregar(e)?alert("Producto Ya Fue Registrado"):st(e.codigoProducto).then((function(e){e[0].stockExistente>0?(t.crearDetalleTrasladoTemporal(e[0],1),t.setState((function(){return{nombreProductoBuscar:"",sugerenciasProducto:[]}}))):alert("Sin stock Existente")}))}},{key:"listarProductosVenta",value:function(e){var t=this;mt(e).then((function(e){t.setState({productosVenta:e})}))}},{key:"listarLocales",value:function(){var e=this;N("TIENDA",this.state.traslado.origenTraslado).then((function(t){e.setState({locales:t})}))}},{key:"obtenerLocal",value:function(e){var t=this;T(e).then((function(e){e[0]&&t.setState({local:e[0]})}))}},{key:"llenarListas",value:function(e){this.listarProductosVenta(e),this.listarLocales()}},{key:"componentDidMount",value:function(){this.obtenerFechaHoy()}},{key:"render",value:function(){var e=this;if(this.state.confirmarCrearTraslado){var t=this.state.nombreProductoBuscar,a=[{Header:"ITEM",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("label",null,e.original.codigoTD)},show:!1},{Header:"IMAGEN",Cell:function(e){return o.a.createElement("div",{className:""},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.descripcionProducto,className:"card-img-top media_producto"}))},maxWidth:200},{Header:"PRODUCTO",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",null,e.original.descripcionProducto),o.a.createElement("div",null,e.original.detalleProducto),o.a.createElement("div",null,e.original.nombreTipoProducto),o.a.createElement("div",null,e.original.descripcionPresentacion),o.a.createElement("div",null,"Stock: ",e.original.stockExistente),o.a.createElement("div",null,"Precio: S/.",e.original.valorPrecio.toFixed(2)))},width:250,minWidth:150,maxWidth:450},{Header:"CANTIDAD",style:{textAlign:"center"},Cell:function(t){var a=t.original.valorTotalTD;return o.a.createElement("div",{className:"container text-center"},o.a.createElement("div",{className:"row justify-content-center mt-3"},o.a.createElement("div",{className:"col-11 col-sm-10 col-md-9 form-group"},o.a.createElement("input",{className:"form-control text-center",id:"cantidadProducto",type:"number",min:"1",max:""+t.original.stockExistente,placeholder:t.original.cantidadProducto,value:t.original.cantidadProducto,onChange:function(a){e.editarDetalleTrasladoTemporal(a,t.original)}})),o.a.createElement("div",{className:"col-11 col-sm-10 col-md-9 form-group"},o.a.createElement("button",{type:"button",className:"btn btn-danger btn-circle",onClick:function(){e.verificarEliminar(t.original,"ELIMINAR-DETALLE")}},o.a.createElement(Pt.a,null))),o.a.createElement("div",{hidden:!0,className:"col-10 form-group"},o.a.createElement("input",{className:"form-control text-center",id:"descripcionProducto",type:"text",readOnly:!0,value:"S/. "+a.toFixed(2)}))))}}];return o.a.createElement(ge,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-7 mb-3"},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Envio de Productos")),o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row justify-content-center mx-1"},o.a.createElement("div",{className:"col-10 col-sm-5 col-md-4 form-group"},o.a.createElement("select",{className:"form-control custom-select",onChange:this.onChangeTipoBuscadorProducto},o.a.createElement("option",{value:"descripcionProducto"},"DESCRIPCI\xd3N"),o.a.createElement("option",{value:"codigoProducto"},"CODIGO"),o.a.createElement("option",{value:"detalleProducto"},"DETALLE"))),o.a.createElement("div",{className:"col-10 col-sm-7 col-md-8 form-group"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Busqueda de Producto",value:t,onChange:this.onChangeBuscadorProducto,autoComplete:"off"}),this.mostrarSugerenciasProductoLista()),o.a.createElement("div",{className:"col-md-12 mt-3"},o.a.createElement(ve.a,{columns:a,noDataText:"Cargando Datos...",data:this.state.detallesEnvio,filterable:!1,defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1}))))))),o.a.createElement("div",{className:"container col-md-4"},o.a.createElement("div",{className:"tituloDetalleEnvio form-group"},o.a.createElement("h3",null,"ENVIO ",this.state.codigoTraslado.substring(4,10))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{for:"codigoLocal"}," ORIGEN: "),o.a.createElement("input",{className:"form-control",id:"codigoLocal",type:"text",value:this.state.local.nombreLocal}))),o.a.createElement(gt.a,{className:"mb-3"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{fro:"destinoTraslado"},"DESTINO: "),o.a.createElement("select",{className:"form-control",id:"destinoTraslado",onChange:function(t){return e.setTraslado(t)}},o.a.createElement("option",{value:""},"Seleccione una Tienda"),this.state.locales.map((function(e){return o.a.createElement("option",{key:e.id,value:e.codigoLocal},e.nombreLocal)}))))),o.a.createElement(gt.a,{className:"mb-3"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{hidden:!0,className:"col-md-6 form-group"},o.a.createElement("label",{fro:"fechaVencimiento"},"F. Vencimiento: "),o.a.createElement("input",{id:"fechaVencimiento",className:"form-control",type:"date",value:this.state.fechaVencimiento,onChange:function(t){return e.setTraslado(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{fro:"fechaVencimiento"},"Total Productos: "),o.a.createElement("input",{id:"fechaVencimiento",className:"form-control",type:"text",value:this.state.totalProducto})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{fro:"fechaVencimiento"},"Total Envio: "),o.a.createElement("input",{id:"fechaVencimiento",className:"form-control",type:"text",value:"S/. "+this.state.valorTotalEnvio.toFixed(2)})),o.a.createElement("div",{className:"col-md-12 form-group"},o.a.createElement("label",{fro:"observacionOrigen"},"Observaci\xf3n: "),o.a.createElement("input",{id:"observacionOrigen",className:"form-control",type:"text",placeholder:"Estado de Productos",value:this.state.observacionOrigen,onChange:function(t){return e.setTraslado(t)}}))),o.a.createElement(gt.a,{className:"mb-3"}),o.a.createElement("div",{className:"container mt-3"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-6 col-sm-6 col-md-6"},o.a.createElement("button",{className:"btn btn-info btn-circle btn-envio",onClick:this.guardarEnvio},o.a.createElement(yt.a,null))),o.a.createElement("div",{className:"col-6 col-sm-6 col-md-6"},o.a.createElement("button",{className:"btn btn-danger btn-circle btn-envio",onClick:function(){e.verificarEliminar("","ANULAR-TRASLADO")}},o.a.createElement(xt.a,null))))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xs"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:""},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12 mb-4"},o.a.createElement("span",null,this.state.mensajeAlerta.textoMensaje)),o.a.createElement("div",{className:"col-3 col-sm-3 col-md-3",hidden:!this.state.mensajeAlerta.mostrarConfirmar},o.a.createElement("button",{className:this.state.mensajeAlerta.tipoBotonConfirmar,onClick:this.botonConfirmado},this.state.mensajeAlerta.textoBotonConfirmar)),o.a.createElement("div",{className:"col-3 col-sm-3 col-md-3",hidden:!this.state.mensajeAlerta.mostrarCancelar},o.a.createElement("button",{className:this.state.mensajeAlerta.tipoBotonCancelar,onClick:this.toogleModalConfirmar.bind(this)},this.state.mensajeAlerta.textoBotonCancelar))))))))}return o.a.createElement(ge,null,o.a.createElement("div",{className:"container p-5"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-4 mx-auto"},o.a.createElement("button",{className:"form-control btn btn-success",onClick:this.confirmarCrearEnvio},"Confirmar Crear Envio")))))}}]),t}(n.Component),Xt=(a(124),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(f.a)(t).call(this,e))).confirmarIngreso=function(){var e={codigoTraslado:a.state.codigoTraslado,codigoUsuarioConfirmacion:localStorage.getItem("codigoUsuario"),observacionDestino:a.state.observacionDestino};a.ingresarProducto(),function(e){var t=_t+"confirmar";return new Promise((function(a,n){fetch(t,{method:"PUT",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))}(e).then((function(e){a.llenarListas(),a.toogleModalDetalle()}))},a.setIngreso=function(e){a.setState(Object(s.a)({},e.target.id,[e.target.value]))},a.ingresarProducto=function(){a.state.productoIngreso.forEach((function(e){e.codigoLocal=localStorage.getItem("codigoLocal"),e.stockExistente=e.cantidadProducto,e.fechaVencimiento=e.fechaVencimiento.substring(0,10),function(e){var t=lt+"ingreso";return new Promise((function(a,n){fetch(t,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))}(e).then((function(e){}))}))},a.listarTrasladosLocalEnvios=function(){(function(e){var t=_t+"envios/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(a.state.codigoLocal).then((function(e){a.setState({trasladosPendientes:e})}))},a.listarTrasladosLocalIngresos=function(){(function(e){var t=_t+"ingresos/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(a.state.codigoLocal).then((function(e){a.setState({trasladosPendientes:e})}))},a.listarTrasladosLocalPendientes=function(){(function(e){var t=_t+"pendientes/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(a.state.codigoLocal).then((function(e){a.setState({trasladosPendientes:e})}))},a.listarProductosIngresantes=function(e){(function(e){var t=lt+"traslado/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(e).then((function(e){a.setState({productoIngreso:e})}))},a.toogleModalDetalle=function(){a.setState({modalDetalleOpen:!a.state.modalDetalleOpen})},a.state={trasladosPendientes:[],trasladosDetallesPendientes:[],productoIngreso:[],cantidadDetalles:0,observacionDestino:"",modalDetalleOpen:!1,codigoLocal:localStorage.getItem("codigoLocal"),codigoTraslado:"",tipoVista:e.tipoVista,tipoAccion:!1,acciones:e.acciones,titulo:e.titulo},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"listarTraslados",value:function(){var e=this;(function(e){var t=_t+"todos/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(this.state.codigoLocal).then((function(t){e.setState({trasladosPendientes:t})}))}},{key:"listarTrasladosDetallesPendientes",value:function(e,t){var a=this;"CONFIRMAR"===t?this.setState({tipoAccion:!0}):this.setState({tipoAccion:!1}),this.listarProductosIngresantes(e),function(e){var t=Yt+"codigotraslado/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(e).then((function(t){a.setState({codigoTraslado:e,cantidadDetalles:t.length,trasladosDetallesPendientes:t},(function(){a.setState({modalDetalleOpen:!a.state.modalDetalleOpen})}))}))}},{key:"llenarListas",value:function(){"enviados"===this.state.tipoVista&&this.listarTrasladosLocalEnvios(),"ingresados"===this.state.tipoVista&&this.listarTrasladosLocalIngresos(),"pendientes"===this.state.tipoVista&&this.listarTrasladosLocalPendientes()}},{key:"componentDidMount",value:function(){this.llenarListas()}},{key:"render",value:function(){var e=this,t=[{Header:"IMAGEN",Cell:function(e){return o.a.createElement("div",{className:""},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.descripcionProducto,className:"card-img-top media_producto"}))},width:100,minWidth:100,maxWidth:100},{Header:"PRODUCTO",accessor:"descripcionProducto",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"mt-2"},o.a.createElement("div",null,e.original.descripcionProducto),o.a.createElement("div",null,e.original.detalleProducto),o.a.createElement("div",null,e.original.nombreTipoProducto),o.a.createElement("div",null,e.original.descripcionPresentacion),o.a.createElement("div",null,"Precio: S/.",e.original.valorPrecio.toFixed(2)),o.a.createElement("div",null,"CANT.:",e.original.cantidadProducto))}}],a=[{Header:"PENDIENTES",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},e.original.detalles," Paquete(s)"),o.a.createElement("div",{className:"col-md-12"},"De ",e.original.nombreLocalOrigen),o.a.createElement("div",{className:"col-md-12"},"Registrado Por:"),o.a.createElement("div",{className:"col-md-12"},e.original.nombreTrabajador),o.a.createElement("div",{className:"col-md-12"},"A ",e.original.nombreLocalDestino)))}},{Header:"OBSE. ORIGEN",accessor:"observacionOrigen",style:{textAlign:"center"}},{Header:"OBSE. DESTINO",accessor:"observacionDestino",style:{textAlign:"center"}},{Header:"ESTADO",style:{textAlign:"center"},Cell:function(e){var t="",a="";return e.original.confirmacion?(t="card bg-success",a="CONFIRMADO"):(t="card bg-danger",a="SIN CONFIRMAR"),o.a.createElement("div",{className:"container text-center"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"card-header"},o.a.createElement("span",null,a)),o.a.createElement("div",{className:"card-body"},o.a.createElement("div",null,o.a.createElement("label",{for:"fechaRegistro"},"Enviado el :  ")),o.a.createElement("div",null,o.a.createElement("span",null,new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(Date.parse(e.original.fechaRegistro)))))))}},{Header:"ACCIONES",style:{textAlign:"center"},show:this.state.acciones,Cell:function(t){var a=!0;return"enviados"===e.state.tipoVista&&(a=!1),t.original.confirmacion&&(a=!1),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row align-items-center mt-3"},o.a.createElement("div",{hidden:!a,className:"form-group col-md-12"},o.a.createElement("button",{className:"btn btn-success",onClick:function(){e.listarTrasladosDetallesPendientes(t.original.codigoTraslado,"CONFIRMAR")}},"CONFIRMAR")),o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("button",{className:"btn btn-info",onClick:function(){e.listarTrasladosDetallesPendientes(t.original.codigoTraslado,"DETALLE")}},"DETALLES"))))}}];return o.a.createElement(ge,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,this.state.titulo)),o.a.createElement("div",{className:"card-body"},o.a.createElement(ve.a,{columns:a,noDataText:"Sin Datos...",data:this.state.trasladosPendientes,filterable:!1,defaultPageSize:this.state.trasladosPendientes.length||3,showPaginationTop:!1,showPaginationBottom:!1}))),o.a.createElement("div",null,o.a.createElement(Ce.a,{isOpen:this.state.modalDetalleOpen,centered:!0},o.a.createElement(Pe.a,{toggle:this.toogleModalDetalle.bind(this)},o.a.createElement("h3",null,"Productos Enviados")),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row d-flex justify-content-center"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(ve.a,{columns:t,noDataText:"Cargando Datos...",data:this.state.trasladosDetallesPendientes,filterable:!1,defaultPageSize:this.state.cantidadDetalles,showPaginationTop:!1,showPaginationBottom:!1})),o.a.createElement("div",{hidden:!this.state.tipoAccion,className:"col-md-12 mt-2"},o.a.createElement("label",{for:"observacionDestino"},"Observacion: "),o.a.createElement("input",{id:"observacionDestino",type:"text",className:"form-control",value:this.state.observacionDestino,onChange:function(t){e.setIngreso(t)}})),o.a.createElement("div",{hidden:!this.state.tipoAccion,className:"col-md-6 mt-3"},o.a.createElement("button",{className:"btn btn-success form-control",onClick:this.confirmarIngreso},"CONFIRMAR")),o.a.createElement("div",{hidden:this.state.tipoAccion,className:"col-md-6 mt-3"},o.a.createElement("button",{className:"btn btn-info form-control",onClick:this.toogleModalDetalle},"Cerrar")))))))))}}]),t}(n.Component)),Kt=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls-traslado"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"CODIGO"),o.a.createElement("th",null,"ORIGEN"),o.a.createElement("th",null,"TRAB. REGISTRO"),o.a.createElement("th",null,"Obs."),o.a.createElement("th",null,"DESTINO"),o.a.createElement("th",null,"TRAB. CONFIRMADO"),o.a.createElement("th",null,"Obs."),o.a.createElement("th",null,"F. ENVIO"),o.a.createElement("th",null,"F. INGRESO"),o.a.createElement("th",null,"ESTADO"))),o.a.createElement("tbody",null,this.props.traslados.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.codigoTraslado),o.a.createElement("td",null,e.nombreLocalOrigen),o.a.createElement("td",null,e.nombreTrabajadorRegistro),o.a.createElement("td",null,e.observacionOrigen),o.a.createElement("td",null,e.nombreLocalDestino),o.a.createElement("td",null,e.nombreTrabajadorConfirmacion),o.a.createElement("td",null,e.observacionDestino),o.a.createElement("td",null,e.fechaRegistro),o.a.createElement("td",null,e.fechaConfirmacion),o.a.createElement("td",null,e.confirmacion))}))))))}}]),t}(n.Component),Zt=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container row"},o.a.createElement("div",null,o.a.createElement("table",{hidden:!0,id:"table-to-xls-venta"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"CODIGO"),o.a.createElement("th",null,"LOCAL"),o.a.createElement("th",null,"TRABAJADOR"),o.a.createElement("th",null,"FECHA"),o.a.createElement("th",null,"CLIENTE"),o.a.createElement("th",null,"TOTAL"))),o.a.createElement("tbody",null,this.props.ventas.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.codigoVenta),o.a.createElement("td",null,e.nombreLocal),o.a.createElement("td",null,e.nombreTrabajador),o.a.createElement("td",null,e.fechaRegistro),o.a.createElement("td",null,e.nombreCliente),o.a.createElement("td",null,e.valorTotalVenta))}))))))}}]),t}(n.Component),Qt={fechaInicio:new Date,fechaFin:new Date,ventasReporte:[],detallesVenta:[],trasladosReporte:[],valorTotalVendido:0,valorTotalEnviado:0,modalVentaOpen:!1,modalTrasladoOpen:!1,modalConfirmarOpen:!1},$t=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(u.a)(this,Object(f.a)(t).call(this))).toogleModalConfirmar=function(){e.setState({modalConfirmarOpen:!e.state.modalConfirmarOpen})},e.toogleModalVenta=function(){e.setState({modalVentaOpen:!e.state.modalVentaOpen})},e.toogleModalTraslado=function(){e.setState({modalTrasladoOpen:!e.state.modalTrasladoOpen})},e.setFecha=function(t){e.setState(Object(s.a)({},t.target.id,[t.target.value]))},e.generarReporteVenta=function(){var t=e.state,a=t.fechaInicio,n=t.fechaFin;(function(e){var t=w+"reporte/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))})(a.concat(" 00:00:01","_",n," 23:59:59")).then((function(t){var a=0;t.forEach((function(e){a+=e.valorTotalVenta})),e.setState({valorTotalVendido:a,ventasReporte:t,modalVentaOpen:!e.state.modalVentaOpen})}))},e.generarReporteTraslado=function(t){var a=e.state,n=a.fechaInicio,o=a.fechaFin,r=n.concat(" 00:00:01","_",o," 23:59:59");""===t?function(e){var t=_t+"reporte/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(r).then((function(t){var a=0;t.forEach((function(e){a+=e.valorTotal})),e.setState({valorTotalEnviado:a,trasladosReporte:t,modalTrasladoOpen:!e.state.modalTrasladoOpen})})):function(e){var t=_t+"reporte/pendiente/"+e;return new Promise((function(e,a){fetch(t).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){a(e)}))}))}(r).then((function(t){var a=0;t.forEach((function(e){a+=e.valorTotal})),e.setState({valorTotalEnviado:a,trasladosReporte:t,modalTrasladoOpen:!e.state.modalTrasladoOpen})}))},e.mostrarDetalleVenta=function(t){e.listarDetallesVentaVista(t),e.toogleModalConfirmar()},e.state=Qt,e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"obtenerFechaHoy",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=t+"-";o=a<10?o+"0"+a:o+""+a,o+="-",o=n<10?o+"0"+n:o+""+n,this.setState({fechaInicio:o,fechaFin:o})}},{key:"listarDetallesVentaVista",value:function(e){var t=this;vt(e).then((function(e){t.setState({detallesVenta:e})}))}},{key:"componentDidMount",value:function(){this.obtenerFechaHoy()}},{key:"render",value:function(){var e=this,t={cursor:"pointer"},a=[{Header:"PENDIENTES",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},e.original.detalles," Paquete(s)"),o.a.createElement("div",{className:"col-md-12"},"De ",e.original.nombreLocal),o.a.createElement("div",{className:"col-md-12"},"Registrado Por:"),o.a.createElement("div",{className:"col-md-12"},e.original.nombreTrabajador)))}},{Header:"OBSE. ORIGEN",accessor:"observacionOrigen",style:{textAlign:"center"}},{Header:"OBSE. DESTINO",accessor:"observacionDestino",style:{textAlign:"center"}},{Header:"ESTADO",style:{textAlign:"center"},Cell:function(e){var t="",a="";return e.original.confirmacion?(t="card bg-success",a="CONFIRMADO"):(t="card bg-danger",a="SIN CONFIRMAR"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"card-header"},o.a.createElement("span",null,a)),o.a.createElement("div",{className:"card-body"},o.a.createElement("label",{for:"fechaRegistro"},"Enviado el:  "),o.a.createElement("span",null,new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(Date.parse(e.original.fechaRegistro))))))}}],n=[{Header:"CODIGO",accessor:"codigoVenta",style:{textAlign:"center"}},{Header:"LOCAL",accessor:"nombreLocal",style:{textAlign:"center"}},{Header:"TRABAJADOR",accessor:"nombreTrabajador",style:{textAlign:"center"}},{Header:"FECHA",style:{textAlign:"center"},Cell:function(e){var t=new Date(e.original.fechaRegistro);return o.a.createElement("label",null,t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" -- "+t.getHours()+":"+t.getMinutes())}},{Header:"TOTAL",style:{textAlign:"center"},Cell:function(e){return o.a.createElement("label",null,"S/."+e.original.valorTotalVenta.toFixed(2))}},{Header:"DETALLE",style:{textAlign:"center"},Cell:function(t){return o.a.createElement("div",{className:"container"},o.a.createElement("button",{className:"btn btn-info",onClick:function(){e.mostrarDetalleVenta(t.original.codigoVenta)}},"Ver"))}}],r=[{Header:"IMAGEN",Cell:function(e){return o.a.createElement("div",{className:"media_producto"},o.a.createElement("img",{src:e.original.urlMedia,alt:e.original.descripcionProducto,className:"card-img-top"}))},width:100,minWidth:100,maxWidth:100},{Header:"PRODUCTO",accessor:"descripcionProducto",style:{textAlign:"center"}},{Header:"PRESENTACI\xd3N",accessor:"descripcionPresentacion",style:{textAlign:"center"}},{Header:"STOCK",accessor:"stockExistente",style:{textAlign:"center"}},{Header:"VAL. UNIDAD",accessor:"valorPrecio",style:{textAlign:"center"}},{Header:"CANT.",accessor:"cantidadProducto",style:{textAlign:"center"}},{Header:"VAL. TOTAL",style:{textAlign:"center"},Cell:function(e){var t=e.original.valorTotalVD;return o.a.createElement("input",{className:"form-control text-center",id:"descripcionProducto",type:"text",readOnly:!0,value:t})}}];return o.a.createElement(ge,null,o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"row form-group"},o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"fechaInicio"}," Fecha Inicio: "),o.a.createElement("input",{className:"form-control",id:"fechaInicio","data-date-format":"YYYY MM DD HH:mm:ss",type:"date",value:this.state.fechaInicio,onChange:function(t){return e.setFecha(t)}})),o.a.createElement("div",{className:"col-md-6 form-group"},o.a.createElement("label",{for:"fechaFin"}," Fecha Fin: "),o.a.createElement("input",{className:"form-control",id:"fechaFin","data-date-format":"YYYY MM DD HH:mm:ss",type:"date",value:this.state.fechaFin,onChange:function(t){return e.setFecha(t)}})))),o.a.createElement("div",{className:"col-md-6",style:t},o.a.createElement("div",{className:"card text-white bg-success"},o.a.createElement("div",{className:"card-header"},"REPORTE DE"),o.a.createElement("button",{className:"btn card-body text-white text-justify",onClick:this.generarReporteVenta},"VENTAS"))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"card text-white bg-info"},o.a.createElement("div",{className:"card-header"},"REPORTE DE ENVIOS"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("button",{className:"btn card-body text-white text-justify",onClick:function(){e.generarReporteTraslado("")}},"CONFIRMADOS")),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("button",{className:"btn card-body text-white text-justify",onClick:function(){e.generarReporteTraslado("PENDIENTES")}},"PENDIENTES")))))),o.a.createElement(Ce.a,{isOpen:this.state.modalVentaOpen,centered:!0,size:"lg"},o.a.createElement(Pe.a,{toggle:this.toogleModalVenta.bind(this)},"Ventas"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-12  mb-4"},o.a.createElement(ve.a,{columns:n,noDataText:"Cargando Datos...",data:this.state.ventasReporte,filterable:!0,defaultPageSize:this.state.ventasReporte.length,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Zt,{ventas:e.reactTable}))}))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{for:"totalVentaReporte"}," Total Vendido: ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",null," S/. ",this.state.valorTotalVendido.toFixed(2))),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("label",null," EN ",this.state.ventasReporte.length," VENTA(s)"))),o.a.createElement("div",{className:"row justify-content-center mt-3"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("div",{className:"col-md",style:t},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn text-white text-justify",table:"table-to-xls-venta",filename:"ReporteVenta",sheet:"hoja 1",buttonText:"Excel"})))),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("button",{className:"btn btn-danger"},"PDF"))))),o.a.createElement(Ce.a,{isOpen:this.state.modalTrasladoOpen,centered:!0,size:"lg"},o.a.createElement(Pe.a,{toggle:this.toogleModalTraslado.bind(this)},"Traslados"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-12  mb-4"},o.a.createElement(ve.a,{columns:a,noDataText:"Cargando Datos...",data:this.state.trasladosReporte,filterable:!0,defaultPageSize:this.state.trasladosReporte.length,showPaginationTop:!0,showPaginationBottom:!1},(function(t,a,n){return e.reactTable=t.pageRows.map((function(e){return e._original})),o.a.createElement("div",null,a(),o.a.createElement(Kt,{traslados:e.reactTable}))}))),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",{for:"totalVentaReporte"}," Total Enviado: ")),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("label",null," S/. ",this.state.valorTotalEnviado.toFixed(2)," "))),o.a.createElement("div",{className:"row justify-content-center mt-3"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("div",{className:"col-md",style:t},o.a.createElement("div",{className:"card bg-success text-white"},o.a.createElement(Te.a,{id:"test-table-xls-button",className:"btn text-white text-justify",table:"table-to-xls-traslado",filename:"ReporteEnvio",sheet:"hoja 1",buttonText:"Excel"})))),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("button",{className:"btn btn-danger"},"PDF"))))),o.a.createElement(Ce.a,{isOpen:this.state.modalConfirmarOpen,centered:!0,size:"xm"},o.a.createElement(Pe.a,{toggle:this.toogleModalConfirmar.bind(this)},"Alerta"),o.a.createElement(ye.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center text-center"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(ve.a,{columns:r,noDataText:"Cargando Datos...",data:this.state.detallesVenta,defaultPageSize:5,showPaginationTop:!0,showPaginationBottom:!1})))))))))}}]),t}(n.Component);a(125);var ea=function(){return o.a.createElement(i.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/app",component:be}),o.a.createElement(l.b,{path:"/app/login",component:P}),o.a.createElement(l.b,{path:"/app/logout",component:y}),o.a.createElement(l.b,{path:"/app/tipos/documento/",component:Ve}),o.a.createElement(l.b,{path:"/app/tipos/local",component:Fe}),o.a.createElement(l.b,{path:"/app/tipos/media",component:Be}),o.a.createElement(l.b,{path:"/app/tipos/precio",component:ze}),o.a.createElement(l.b,{path:"/app/tipos/producto",component:_e}),o.a.createElement(l.b,{path:"/app/tipos/traslado",component:We}),o.a.createElement(l.b,{path:"/app/productos",component:Et}),o.a.createElement(l.b,{path:"/app/medias/listar",component:et}),o.a.createElement(l.b,{path:"/app/ventas/listar",component:Mt}),o.a.createElement(l.b,{path:"/app/ventas",component:St}),o.a.createElement(l.b,{path:"/app/sucursales",component:Ut}),o.a.createElement(l.b,{path:"/app/locales/tienda",component:function(){return o.a.createElement(Rt,{nombreTipoLocal:"TIENDA"})}}),o.a.createElement(l.b,{path:"/app/locales/almacen",component:function(){return o.a.createElement(Rt,{nombreTipoLocal:"ALMACEN"})}}),o.a.createElement(l.b,{path:"/app/usuarios",component:Jt}),o.a.createElement(l.b,{path:"/app/envios/todos",component:function(){return o.a.createElement(Xt,{titulo:"Lista de Envios",tipoVista:"enviados",acciones:!0})}}),o.a.createElement(l.b,{path:"/app/envios",component:function(){return o.a.createElement(qt,{codigoTipoTraslado:"TP-TRA-001"})}}),o.a.createElement(l.b,{path:"/app/ingresos/pendientes",component:function(){return o.a.createElement(Xt,{titulo:"Ingresos Pendientes",tipoVista:"pendientes",acciones:!0})}}),o.a.createElement(l.b,{path:"/app/ingresos/todos",component:function(){return o.a.createElement(Xt,{titulo:"Lista de Ingresos",tipoVista:"ingresados",acciones:!0})}}),o.a.createElement(l.b,{path:"/app/reportes",component:$t}),o.a.createElement(l.b,{path:"/app/*",component:x})))},ta=a(92),aa=a(182),na=a(183),oa=a(176),ra=a(177),ca=(a(126),Object(ta.a)({palette:{primary:{light:oa.a[300],main:oa.a[500],dark:oa.a[700]},secondary:{light:ra.a[300],main:ra.a[500],dark:ra.a[700]},background:{default:"#e0f2f1"}}}));ca=Object(aa.a)(ca),c.a.render(o.a.createElement(na.a,{theme:ca},o.a.createElement(ce.a,null),o.a.createElement(ea,null)),document.getElementById("root"))},81:function(e,t,a){},99:function(e,t,a){e.exports=a(127)}},[[99,1,2]]]);
//# sourceMappingURL=main.74deeba1.chunk.js.map